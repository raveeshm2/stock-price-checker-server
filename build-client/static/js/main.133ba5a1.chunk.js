(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{146:function(e,t,r){},147:function(e,t,r){},153:function(e,t,r){},154:function(e,t,r){},155:function(e,t,r){},156:function(e,t,r){},160:function(e,t,r){},163:function(e,t,r){"use strict";r.r(t),r.d(t,"history",(function(){return qt}));var n,a=r(1),c=r(0),s=r.n(c),o=r(44),i=r.n(o),l=(r(146),r(9)),u=r(31),d=(r(147),r(174)),j=r(12),b={show:!1,header:null,body:null,autohide:!0,minHeight:"100px",top:"5rem",right:"5rem",delay:5e3},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_TOAST":return Object(l.a)(Object(l.a)({},e),t.payload);default:return e}},O=function(){var e=Object(j.e)((function(e){return e.toast})),t=Object(j.d)();return Object(a.jsxs)(d.a,{style:{position:"fixed",top:e.top,right:e.right,zIndex:10},show:e.show,autohide:e.autohide,onClose:function(){return t({type:"UPDATE_TOAST",payload:b})},delay:e.delay,children:[Object(a.jsx)(d.a.Header,{children:e.header}),Object(a.jsx)(d.a.Body,{children:e.body})]})},h=r(115),f=r(6),x=r.n(f),v=r(14),g=r(24),m=r(51),y=r(172),w=(n=y.a.Control,function(e){var t=e.field,r=e.form,c=(e.meta,Object(m.a)(e,["field","form","meta"]));return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(n,Object(l.a)(Object(l.a)(Object(l.a)({},t),{},{onChange:function(e){r.setFieldValue(t.name,e.target.value,!0)}},c),{},{isValid:r.touched[t.name]&&!r.errors[t.name],isInvalid:!!r.errors[t.name]})),Object(a.jsx)(y.a.Control.Feedback,{children:"Looks good!"}),Object(a.jsx)(y.a.Control.Feedback,{type:"invalid",children:r.errors[t.name]})]})}),k=function(e){var t=Object.assign({},e);return Object(a.jsx)(g.a,Object(l.a)(Object(l.a)({},t),{},{component:w}))},A=r(166),T=r(167),E=function(e){var t=e.className,r=void 0===t?"":t,n=e.type,c=void 0===n?"button":n,s=e.variant,o=void 0===s?"primary":s,i=e.loading,l=e.disabled,u=e.loadingText,d=void 0===u?"Loading...":u,j=e.staticText,b=e.onClick;return Object(a.jsxs)(A.a,{className:r,variant:o,type:c,disabled:l,style:{cursor:l?"not-allowed":"pointer"},onClick:b,children:[Object(a.jsx)(T.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:i?"d-inline-block":"d-none"}),Object(a.jsx)("span",{className:i?"ml-3 d-inline-block":"d-none",children:d}),Object(a.jsx)("span",{className:i?"d-none":"d-inline-block",children:j})]})},N=r(20),C=N.a({currentPassword:N.c().required("Current password is required"),newPassword:N.c().min(8,"Must be atleast 8 characters"),confirmPassword:N.c().when("newPassword",{is:function(e){return e&&""!==e.trim()},then:N.c().required("Password is required").equals([N.b("newPassword")],"Passwords must match"),otherwise:N.c().max(0,"Please enter new password first")})}),S=N.a({email:N.c().required("Email address is required"),password:N.c().required("Password is required")}),P=N.a({email:N.c().required("Email address is required"),password:N.c().min(8,"Must be atleast 8 characters"),confirmPassword:N.c().when("password",{is:function(e){return e&&""!==e.trim()},then:N.c().required("Password is required").equals([N.b("password")],"Passwords must match"),otherwise:N.c().max(0,"Please enter password first")})}),I=N.a({type:N.c().required("Alias name is required"),price:N.c().required("Cutoff price is required").matches(/^[0-9.]+$/,"Only Numbers are supported")}),L=r(15),H=r(22),D=r(28),F=r(34),q=r(35),R=r(137),z=function(e){Object(F.a)(r,e);var t=Object(q.a)(r);function r(e,n,a,c){var s;return Object(H.a)(this,r),(s=t.call(this,"".concat(e,": ").concat(n).concat(a?" ".concat(a):""))).url=e,s.status=n,s.statusText=void 0,s.data=void 0,s.data=c,s.statusText=a||null,s}return r}(Object(R.a)(Error));function G(e){return Object.keys(e).map((function(t){return t+"="+e[t]})).join("&")}function V(e,t,r){return U.apply(this,arguments)}function U(){return(U=Object(v.a)(x.a.mark((function e(t,r,n){var a,c,s,o,i,u;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.queryParams,c=Object(m.a)(r,["queryParams"]),s="".concat("https://gentle-falls-99430.herokuapp.com").concat(t),"GET"===r.method&&a&&(s+="?"+G(a)),e.next=5,fetch(s,Object(l.a)({credentials:"include",headers:n},c));case 5:if(200!==(o=e.sent).status){e.next=22;break}if(!(i=o.headers.get("content-type"))||-1===i.indexOf("application/json")){e.next=21;break}return e.prev=9,e.next=12,o.clone().json();case 12:return e.abrupt("return",e.sent);case 15:throw e.prev=15,e.t0=e.catch(9),console.error(e.t0),console.error(o),console.error(o.clone().text()),new Error("Error with JSON parsing");case 21:return e.abrupt("return",null);case 22:return u=null,e.prev=23,e.next=26,o.json();case 26:u=e.sent,e.next=31;break;case 29:e.prev=29,e.t1=e.catch(23);case 31:throw new z(o.url,o.status,o.statusText,u);case 32:case"end":return e.stop()}}),e,null,[[9,15],[23,29]])})))).apply(this,arguments)}function Y(e,t){return Z.apply(this,arguments)}function Z(){return(Z=Object(v.a)(x.a.mark((function e(t,r){var n,a=arguments;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>2&&void 0!==a[2]?a[2]:[],e.prev=1,e.next=4,r();case 4:return e.abrupt("return",e.sent);case 7:throw e.prev=7,e.t0=e.catch(1),n.forEach((function(t){if(t(e.t0))throw e.t0})),console.error(e.t0),t(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}function M(e,t,r,n,a,c){return B.apply(this,arguments)}function B(){return(B=Object(v.a)(x.a.mark((function e(t,r,n,a,c,s){var o,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.payload,i=Object(m.a)(r,["payload"]),e.abrupt("return",Y(n,Object(v.a)(x.a.mark((function e(){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V(t,Object(l.a)(Object(l.a)({},i),{},{body:o?JSON.stringify(o):void 0}),Object(l.a)({},s));case 2:return r=e.sent,e.abrupt("return",c(r));case 4:case"end":return e.stop()}}),e)}))),a));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var K=r(64);var W=function(e,t){return function(r){return r.status===e&&(!t||t(r))}},Q=function(e,t){return function(r){if(e(r)){var n=r.data&&r.data.errors?r.data.errors:[];return n.length>0?{errors:n}:{errors:[].concat(Object(K.a)(t.errors),Object(K.a)(n))}}}};var J,X,_=Q(W(404),{errors:["Not found"]}),$=Q(W(500),{errors:["Internal server error"]}),ee=W(401,(function(e){return e.data&&e.data.errors.includes("Not authenticated")})),te=r(134),re=function(){function e(){Object(H.a)(this,e)}return Object(D.a)(e,null,[{key:"post",value:function(t){return e.fetch(t.url,{method:"POST",payload:t.payload},t.deserialize?t.deserialize:function(e){return e})}},{key:"put",value:function(t){return e.fetch(t.url,{method:"PUT",payload:t.payload},t.deserialize?t.deserialize:function(e){return e})}},{key:"get",value:function(t){return e.fetch(t.url,{method:"GET",queryParams:t.payload},t.deserialize?t.deserialize:function(e){return e})}},{key:"delete",value:function(t){return e.fetch(t.url,{method:"DELETE",payload:t.payload},(function(e){return e}))}},{key:"fetch",value:function(){var t=Object(v.a)(x.a.mark((function t(r,n,a,c){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",M(r,n,e.errorsInterpreter,e.errorPass,a,Object(l.a)(Object(l.a)({},e.defaultHeaders),c)));case 1:case"end":return t.stop()}}),t)})));return function(e,r,n,a){return t.apply(this,arguments)}}()}]),e}();function ne(e){return{loading:!1,error:null,data:e}}re.defaultHeaders={"Content-Type":"application/json"},re.requests={GET:re.get,POST:re.post,PUT:re.put,DELETE:re.delete},re.errorPass=[ee],re.errorDetectors=[_,$,function(e){if(!(r=e).data&&!r.url&&!r.status&&!r.statusText){var t=e.data&&e.data.errors?e.data.errors:[];return{errors:[e.statusText].concat(Object(K.a)(t))}}var r}],re.errorsInterpreter=(J=re.errorDetectors,X={errors:["Unknown error"]},function(e){var t,r=Object(te.a)(J);try{for(r.s();!(t=r.n()).done;){var n=(0,t.value)(e);if(n)return n}}catch(a){r.e(a)}finally{r.f()}return X});var ae=function e(t){var r=this;Object(H.a)(this,e),this.type=t,this.requestActionType="".concat(this.type,"_REQUEST"),this.errorActionType="".concat(this.type,"_ERROR"),this.responseActionType="".concat(this.type,"_RESPONSE"),this.clearActionType="".concat(this.type,"_CLEAR"),this.request=function(e){return{type:r.requestActionType,payload:e}},this.response=function(e){return{type:r.responseActionType,payload:e}},this.error=function(e,t){return{type:r.errorActionType,error:e,payload:t}},this.clear=function(){return{type:r.clearActionType}},this.reducer=function(e,t){switch(t.type){case r.requestActionType:return Object(l.a)(Object(l.a)({},e),{},{loading:!0});case r.responseActionType:return{loading:!1,data:t.payload,error:null};case r.errorActionType:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,error:Object(K.a)(t.error.errors),data:t.payload?t.payload:e.data});case r.clearActionType:return Object(l.a)({},ne(null));default:return e}}},ce=r(4),se=function(){function e(){Object(H.a)(this,e),this.assignment=void 0}return Object(D.a)(e,[{key:"getHandler",value:function(e){var t=x.a.mark(r);function r(e,r){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.assignment[e](r);case 3:t.next=11;break;case 5:return t.prev=5,t.t0=t.catch(0),alert("".concat(e,": ").concat(t.t0.message)),t.next=10,Object(ce.c)({type:"REQUEST_FAILED",message:t.t0.message});case 10:console.error(t.t0);case 11:case"end":return t.stop()}}),t,this,[[0,5]])}return r.bind(this,e)}},{key:"rootSaga",value:x.a.mark((function e(){var t,r,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0,r=Object.keys(this.assignment);case 1:if(!(t<r.length)){e.next=8;break}return n=r[t],e.next=5,Object(ce.d)(n,this.getHandler(n));case 5:t++,e.next=1;break;case 8:case"end":return e.stop()}}),e,this)}))}]),e}(),oe=function(e,t){return{type:"UPDATE_TOAST",payload:{show:!0,header:Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("strong",{className:"mr-auto",children:[" ",e," "]})}),body:Object(a.jsx)(a.Fragment,{children:t})}}},ie=r(27),le=new ae("USER/LOGIN"),ue=new ae("USER/CHANGE"),de=new ae("USER/LOGOUT"),je=new ae("USER/SIGNUP"),be=function(e){Object(F.a)(r,e);var t=Object(q.a)(r);function r(){var e,n;Object(H.a)(this,r);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(n=t.call.apply(t,[this].concat(c))).assignment=(e={},Object(L.a)(e,le.requestActionType,n.login),Object(L.a)(e,ue.requestActionType,n.changePassword),Object(L.a)(e,de.requestActionType,n.logout),Object(L.a)(e,je.requestActionType,n.signup),e),n}return Object(D.a)(r,[{key:"login",value:x.a.mark((function e(t){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(ce.b)(re.post,{url:"/user/login",payload:t.payload});case 3:return r=e.sent,e.next=6,Object(ce.c)(le.response(r));case 6:return e.next=8,Object(ce.c)(oe("Success",r.message.join("")));case 8:return e.next=10,Object(ce.c)(Object(ie.d)("/stockList"));case 10:e.next=18;break;case 12:return e.prev=12,e.t0=e.catch(0),e.next=16,Object(ce.c)(le.error(e.t0));case 16:return e.next=18,Object(ce.c)(oe("Error",e.t0.errors.join(". ")));case 18:case"end":return e.stop()}}),e,null,[[0,12]])}))},{key:"signup",value:x.a.mark((function e(t){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(ce.b)(re.post,{url:"/user/signup",payload:t.payload});case 3:return r=e.sent,e.next=6,Object(ce.c)(je.response(r));case 6:return e.next=8,Object(ce.c)(oe("Success",r.message.join("")));case 8:e.next=16;break;case 10:return e.prev=10,e.t0=e.catch(0),e.next=14,Object(ce.c)(je.error(e.t0));case 14:return e.next=16,Object(ce.c)(oe("Error",e.t0.errors.join(". ")));case 16:case"end":return e.stop()}}),e,null,[[0,10]])}))},{key:"changePassword",value:x.a.mark((function e(t){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(ce.b)(re.put,{url:"/user/change",payload:t.payload});case 3:return r=e.sent,e.next=6,Object(ce.c)(ue.response(r));case 6:return e.next=8,Object(ce.c)(oe("Success",r.message.join("")));case 8:e.next=16;break;case 10:return e.prev=10,e.t0=e.catch(0),e.next=14,Object(ce.c)(ue.error(e.t0));case 14:return e.next=16,Object(ce.c)(oe("Error",e.t0.errors.join(". ")));case 16:case"end":return e.stop()}}),e,null,[[0,10]])}))},{key:"logout",value:x.a.mark((function e(t){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(ce.b)(re.post,{url:"/user/logout"});case 3:return r=e.sent,e.next=6,Object(ce.c)(de.response(r));case 6:if(!r.message.includes("Logout Successful !!")){e.next=9;break}return e.next=9,Object(ce.c)(Object(ie.d)("/"));case 9:return e.next=11,Object(ce.c)(oe("Success",r.message.join("")));case 11:e.next=19;break;case 13:return e.prev=13,e.t0=e.catch(0),e.next=17,Object(ce.c)(de.error(e.t0));case 17:return e.next=19,Object(ce.c)(oe("Error",e.t0.errors.join(". ")));case 19:case"end":return e.stop()}}),e,null,[[0,13]])}))}]),r}(se),pe=(r(153),new ae("/STOCK/SEARCH")),Oe=new ae("/STOCK/ADD"),he=new ae("/STOCK/DELETE"),fe=new ae("/STOCK/LIST"),xe=function(e){Object(F.a)(r,e);var t=Object(q.a)(r);function r(){var e,n;Object(H.a)(this,r);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(n=t.call.apply(t,[this].concat(c))).assignment=(e={},Object(L.a)(e,pe.requestActionType,n.searchStock),Object(L.a)(e,Oe.requestActionType,n.addStock),Object(L.a)(e,he.requestActionType,n.deleteStock),Object(L.a)(e,fe.requestActionType,n.list),e),n}return Object(D.a)(r,[{key:"searchStock",value:x.a.mark((function e(t){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(ce.b)(re.get,{url:"/stock/search",payload:t.payload});case 3:return r=e.sent,e.next=6,Object(ce.c)(pe.response(r));case 6:e.next=17;break;case 8:return e.prev=8,e.t0=e.catch(0),e.next=12,Object(ce.c)(pe.error(e.t0));case 12:if(!e.t0.errors.includes("User is not authenticated")){e.next=15;break}return e.next=15,Object(ce.c)(Object(ie.d)("/"));case 15:return e.next=17,Object(ce.c)(oe("Error",e.t0.errors.join(". ")));case 17:case"end":return e.stop()}}),e,null,[[0,8]])}))},{key:"addStock",value:x.a.mark((function e(t){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(ce.b)(re.post,{url:"/stock/add",payload:t.payload});case 3:return r=e.sent,e.next=6,Object(ce.c)(Oe.response(r));case 6:return e.next=8,Object(ce.c)(oe("Success",r.message.join("")));case 8:setTimeout((function(){window.location.reload()}),1e3),e.next=20;break;case 11:return e.prev=11,e.t0=e.catch(0),e.next=15,Object(ce.c)(Oe.error(e.t0));case 15:if(!e.t0.errors.includes("User is not authenticated")){e.next=18;break}return e.next=18,Object(ce.c)(Object(ie.d)("/"));case 18:return e.next=20,Object(ce.c)(oe("Error",e.t0.errors.join(". ")));case 20:case"end":return e.stop()}}),e,null,[[0,11]])}))},{key:"deleteStock",value:x.a.mark((function e(t){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(ce.b)(re.post,{url:"/stock/delete",payload:t.payload});case 3:return r=e.sent,e.next=6,Object(ce.c)(he.response(r));case 6:return e.next=8,Object(ce.c)(oe("Success",r.message.join("")));case 8:setTimeout((function(){window.location.reload()}),1e3),e.next=20;break;case 11:return e.prev=11,e.t0=e.catch(0),e.next=15,Object(ce.c)(he.error(e.t0));case 15:if(!e.t0.errors.includes("User is not authenticated")){e.next=18;break}return e.next=18,Object(ce.c)(Object(ie.d)("/"));case 18:return e.next=20,Object(ce.c)(oe("Error",e.t0.errors.join(". ")));case 20:case"end":return e.stop()}}),e,null,[[0,11]])}))},{key:"list",value:x.a.mark((function e(t){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(ce.b)(re.get,{url:"/stock/list"});case 3:return r=e.sent,e.next=6,Object(ce.c)(fe.response(r));case 6:if("/"!==qt.location.pathname){e.next=10;break}return e.next=10,Object(ce.c)(Object(ie.d)("/stockList"));case 10:e.next=21;break;case 12:return e.prev=12,e.t0=e.catch(0),e.next=16,Object(ce.c)(fe.error(e.t0));case 16:if(!e.t0.errors.includes("User is not authenticated")){e.next=19;break}return e.next=19,Object(ce.c)(Object(ie.d)("/"));case 19:return e.next=21,Object(ce.c)(oe("Error",e.t0.errors.join(". ")));case 21:case"end":return e.stop()}}),e,null,[[0,12]])}))}]),r}(se),ve=function(){var e=Object(j.d)(),t=Object(j.e)((function(e){return e.user.login}));function r(){return(r=Object(v.a)(x.a.mark((function t(r){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(le.request(r));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(c.useEffect)((function(){e(fe.request(null))}),[e]),Object(a.jsx)("div",{id:"cover",className:"min-vh-100",children:Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col-xl-5 col-lg-6 col-md-8 col-sm-10 col-xs-2 mx-auto form p-4",style:{zIndex:1},children:Object(a.jsx)(g.c,{initialValues:{email:"",password:""},onSubmit:function(e){return function(e){return r.apply(this,arguments)}(e)},validationSchema:S,children:function(e){var r=e.dirty,n=e.isValid;return Object(a.jsxs)(g.b,{children:[Object(a.jsx)("h4",{className:"pt-1 pb-3",children:"Sign In"}),Object(a.jsx)(y.a.Group,{controlId:"email",children:Object(a.jsx)(k,{name:"email",type:"text",placeholder:"Enter email address",autoComplete:"off"})}),Object(a.jsx)(y.a.Group,{controlId:"password",children:Object(a.jsx)(k,{name:"password",type:"password",placeholder:"Enter password",autoComplete:"off"})}),Object(a.jsx)(E,{type:"submit",loading:t.loading,disabled:t.loading||!n||!r,loadingText:"Logging in..",staticText:"Login"}),Object(a.jsx)(y.a.Text,{children:Object(a.jsxs)("div",{style:{fontSize:"1.2em"},children:[Object(a.jsx)("div",{children:"Don't have an account ?"}),Object(a.jsx)("a",{href:"/signup",children:"Create one now !"})]})})]})}})})})})})},ge=(r(154),function(){var e=Object(j.d)(),t=Object(j.e)((function(e){return e.user.signup}));function r(){return(r=Object(v.a)(x.a.mark((function t(r){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(je.request(r));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(a.jsx)("div",{id:"cover",className:"min-vh-100",children:Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col-xl-5 col-lg-6 col-md-8 col-sm-10 col-xs-2 mx-auto form p-4",style:{zIndex:1},children:Object(a.jsx)(g.c,{initialValues:{email:"",password:"",confirmPassword:""},onSubmit:function(e){return function(e){return r.apply(this,arguments)}(e)},validationSchema:P,children:function(e){var r=e.dirty,n=e.isValid;return Object(a.jsxs)(g.b,{children:[Object(a.jsx)("h4",{className:"pt-1 pb-3",children:"Sign up"}),Object(a.jsx)(y.a.Group,{controlId:"email",children:Object(a.jsx)(k,{name:"email",type:"text",placeholder:"Enter email address",autoComplete:"off"})}),Object(a.jsx)(y.a.Group,{controlId:"password",children:Object(a.jsx)(k,{name:"password",type:"password",placeholder:"Enter password",autoComplete:"off"})}),Object(a.jsx)(y.a.Group,{controlId:"confirmPassword",children:Object(a.jsx)(k,{name:"confirmPassword",type:"password",placeholder:"Enter password again",autoComplete:"off"})}),Object(a.jsx)(E,{type:"submit",loading:t.loading,disabled:t.loading||!n||!r,loadingText:"Creating Account...",staticText:"Sign up"}),Object(a.jsx)(y.a.Text,{children:Object(a.jsxs)("div",{style:{fontSize:"1.2em"},children:[Object(a.jsx)("div",{children:"Already have an account ?"}),Object(a.jsx)("a",{href:"/login",children:"Click here to login"})]})})]})}})})})})})}),me=r(168),ye=r(169),we=r(132),ke=r(173),Ae=r(175),Te=r(171),Ee=function(e){var t=e.show,r=e.onHide,n=Object(j.d)(),s=Object(j.e)((function(e){return e.user.changePassword}));function o(){return(o=Object(v.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(ue.request(t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){return function(){n(ue.clear())}}),[n]),Object(c.useEffect)((function(){!s.loading&&(s.data||s.error)&&t&&r()}),[s,r,t]),Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(Te.a,{show:t,onHide:r,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static",children:Object(a.jsx)(g.c,{initialValues:{currentPassword:"",newPassword:"",confirmPassword:""},onSubmit:function(e){return function(e){return o.apply(this,arguments)}({currentPassword:e.currentPassword,newPassword:e.newPassword})},validationSchema:C,children:function(e){var t=e.dirty,n=e.isValid;return Object(a.jsxs)(g.b,{children:[Object(a.jsx)(Te.a.Header,{closeButton:!0,children:Object(a.jsx)(Te.a.Title,{id:"contained-modal-title-vcenter",children:"Change Password"})}),Object(a.jsxs)(Te.a.Body,{children:[Object(a.jsxs)(y.a.Group,{controlId:"currentPassword",children:[Object(a.jsx)(y.a.Label,{children:"Current Password"}),Object(a.jsx)(k,{name:"currentPassword",type:"password",placeholder:"Please enter current password",autoComplete:"off"})]}),Object(a.jsxs)(y.a.Group,{controlId:"newPassword",children:[Object(a.jsx)(y.a.Label,{children:"New Password"}),Object(a.jsx)(k,{name:"newPassword",type:"password",placeholder:"Please enter new password",autoComplete:"off"})]}),Object(a.jsxs)(y.a.Group,{controlId:"confirmPassword",children:[Object(a.jsx)(y.a.Label,{children:"Confirm Password"}),Object(a.jsx)(k,{name:"confirmPassword",type:"password",placeholder:"Please enter same password again",autoComplete:"off"})]})]}),Object(a.jsxs)(Te.a.Footer,{children:[Object(a.jsx)(E,{type:"submit",loading:s.loading,disabled:s.loading||!n||!t,loadingText:"Changing..",staticText:"Submit"}),Object(a.jsx)(A.a,{variant:"secondary",onClick:r,children:"Close"})]})]})}})})})},Ne="data:image/png;base64,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";function Ce(e){return Se.apply(this,arguments)}function Se(){return(Se=Object(v.a)(x.a.mark((function e(t){var r,n,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("Notification"in window)){e.next=18;break}return e.next=3,Notification.requestPermission();case 3:if(r=e.sent,console.log("result",r),"granted"!==r){e.next=17;break}if(!("serviceWorker"in navigator)){e.next=14;break}return e.next=9,navigator.serviceWorker.ready;case 9:n=e.sent,a={body:t,icon:Ne,tag:"notificationsEnabled",vibrate:[250],renotify:!0,badge:Ne},n.showNotification("Success",a),e.next=15;break;case 14:console.log("SW not present");case 15:e.next=18;break;case 17:console.log("Not granted");case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Pe=new ae("/SUBSCRIPTION/ADD"),Ie=function(e){Object(F.a)(r,e);var t=Object(q.a)(r);function r(){var e;Object(H.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).assignment=Object(L.a)({},Pe.requestActionType,e.addSubscription),e}return Object(D.a)(r,[{key:"addSubscription",value:x.a.mark((function e(t){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(ce.b)(re.post,{url:"/subscription/add",payload:t.payload});case 3:return r=e.sent,e.next=6,Object(ce.c)(Pe.response(r));case 6:Ce(r.message.join("")),e.next=19;break;case 10:return e.prev=10,e.t0=e.catch(0),e.next=14,Object(ce.c)(Pe.error(e.t0));case 14:if(!e.t0.errors.includes("User is not authenticated")){e.next=17;break}return e.next=17,Object(ce.c)(Object(ie.d)("/"));case 17:return e.next=19,Object(ce.c)(oe("Error",e.t0.errors.join(". ")));case 19:case"end":return e.stop()}}),e,null,[[0,10]])}))}]),r}(se),Le=function(){var e=Object(c.useState)(!1),t=Object(u.a)(e,2),r=t[0],n=t[1],s=Object(j.d)();function o(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=window.atob(t),n=new Uint8Array(r.length),a=0;a<r.length;++a)n[a]=r.charCodeAt(a);return n}function i(){return(i=Object(v.a)(x.a.mark((function e(){var t,r,n,a,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("serviceWorker"in navigator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,navigator.serviceWorker.ready;case 4:return t=e.sent,e.next=7,t.pushManager.getSubscription();case 7:if(r=e.sent,"BAnRAfK9VqExqxEzmoMeQTVqqY7lUHW7HVHjqV_CWiuY2TRGpZffyzTtLD23tDBIMZ9ylXbYW9Z2rJkTMC6b9XM",n=o("BAnRAfK9VqExqxEzmoMeQTVqqY7lUHW7HVHjqV_CWiuY2TRGpZffyzTtLD23tDBIMZ9ylXbYW9Z2rJkTMC6b9XM"),r){e.next=25;break}return console.log("No subscription present"),e.prev=12,e.next=15,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:n});case 15:a=e.sent,c=a.toJSON(),s(Pe.request({endpoint:c.endpoint,keys:{auth:c.keys.auth,p256dh:c.keys.p256dh}})),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(12),s(oe("Error","You have denied notification alerts. Please enable them from browser settings"));case 23:e.next=27;break;case 25:Ce("You are already subscribed to notification services"),console.log("Subscription already present");case 27:case"end":return e.stop()}}),e,null,[[12,20]])})))).apply(this,arguments)}return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(ke.a,{bg:"dark",variant:"dark",fixed:"top",expand:"md",children:[Object(a.jsx)(ke.a.Brand,{href:"#home",children:"Alertify"}),Object(a.jsx)(ke.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(a.jsx)(ke.a.Collapse,{id:"basic-navbar-nav",children:Object(a.jsxs)(Ae.a,{className:"ml-auto",children:[Object(a.jsx)(Ae.a.Link,{href:"#home",onClick:function(){return s(Object(ie.d)("/stockList"))},children:"Home"}),Object(a.jsx)(Ae.a.Link,{href:"#notifications",onClick:function(){return i.apply(this,arguments)},children:"Enable Notification Alerts"}),Object(a.jsx)(Ae.a.Link,{href:"#alerts",onClick:function(){return s(Object(ie.d)("/triggerList"))},children:"Manage Alerts"}),Object(a.jsx)(Ae.a.Link,{href:"#portfolio",onClick:function(){return s(Object(ie.d)("/portfolio"))},children:"Portfolio"}),Object(a.jsx)(Ae.a.Link,{href:"#settings",onClick:function(){return n(!0)},children:"Settings"}),Object(a.jsx)(Ae.a.Link,{href:"#logout",onClick:function(){return s(de.request(null))},children:"Log out"})]})})]}),r&&Object(a.jsx)(Ee,{show:r,onHide:function(){n(!1)}})]})},He=r(177),De=(r(155),function(e){var t=Object(j.d)(),r=Object(j.e)((function(e){return e.stocks.search})),n=Object(c.useState)(void 0),s=Object(u.a)(n,2),o=s[0],i=s[1];function l(e,r){t(Oe.request({symbol:e,name:r})),i(void 0)}return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(y.a.Control,{name:"stock",placeholder:"Search stocks",autoComplete:"off",size:"lg",onChange:function(e){var r=e.target.value;r.length>2?(i(r),t(pe.request({stockName:r}))):i(void 0)}}),!r.loading&&r.data&&o&&o.length>2&&Object(a.jsx)(He.a,{className:"search-stocks-list",children:r.data.map((function(e){return Object(a.jsx)("div",{onClick:l.bind(null,e.symbol,e.name),children:Object(a.jsx)(He.a.Item,{children:e.name})})}))})]})}),Fe=r(176),qe=(r(156),function(e){var t=e.setAddTrigger,r=e.setDeleteStock,n=Object(m.a)(e,["setAddTrigger","setDeleteStock"]),s=Object(c.useMemo)((function(){var e=n.close||n.lastPrice,t=e-n.previousClose;return{price:e,change:t,pChange:t/n.previousClose*100}}),[n.previousClose,n.close,n.lastPrice]);return n.error?null:Object(a.jsxs)(Fe.a,{style:{minWidth:"18rem"},className:"h-100",children:[Object(a.jsxs)(Fe.a.Header,{children:[Object(a.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(a.jsx)("span",{children:Object(a.jsx)("b",{children:n.symbol})}),Object(a.jsxs)("div",{className:"d-inline-flex justify-content-end",children:[Object(a.jsx)("span",{className:"material-icons mr-2",style:{cursor:"pointer"},onClick:function(){return t({symbol:n.symbol,name:n.name})},children:"add_alert"}),Object(a.jsx)("span",{className:"material-icons",style:{cursor:"pointer"},onClick:function(){return r({symbol:n.symbol,name:n.name})},children:"delete"})]})]}),Object(a.jsx)("div",{className:"d-flex "})]}),Object(a.jsxs)(Fe.a.Body,{className:"d-flex flex-column justify-content-end",children:[Object(a.jsx)(Fe.a.Title,{children:n.name}),Object(a.jsxs)(Fe.a.Text,{className:"mt-2",children:[Object(a.jsxs)("h5",{children:["Price: ",s.price," ",Object(a.jsx)("span",{className:n.change>=0?"color-green":"color-red",children:s.change>0?"+".concat(s.change.toFixed(2).toString()).concat(" (+".concat(s.pChange.toFixed(2),"%)")):s.change.toFixed(2).toString().concat(" (".concat(s.pChange.toFixed(2),"%)"))})]}),"Open: ",n.open," ",Object(a.jsx)("br",{}),"Close: ",n.close," ",Object(a.jsx)("br",{}),"Previous Close: ",n.previousClose," ",Object(a.jsx)("br",{}),"Lower CP: ",n.lowerCP," ",Object(a.jsx)("br",{}),"Upper CP: ",n.upperCP," ",Object(a.jsx)("br",{}),"Intraday Low: ",n.intraDayHighLow.min," ",Object(a.jsx)("br",{}),"Intraday High: ",n.intraDayHighLow.max," ",Object(a.jsx)("br",{})]})]})]})}),Re=function(e){return function(t){var r=t.field,n=t.form,c=(t.meta,t.options),s=Object(m.a)(t,["field","form","meta","options"]);return Object(a.jsx)(e,Object(l.a)(Object(l.a)(Object(l.a)({as:"select"},r),{},{onChange:function(e){n.setFieldValue(r.name,e.target.value,!0)}},s),{},{children:c.map((function(e){return Object(a.jsx)("option",{value:e.key,children:e.value})}))}))}}(y.a.Control),ze=function(e){var t=Object.assign({},e);return Object(a.jsx)(g.a,Object(l.a)(Object(l.a)({},t),{},{component:Re}))},Ge=new ae("/TRIGGER/LIST"),Ve=new ae("/TRIGGER/ADD"),Ue=new ae("/TRIGGER/UPDATE"),Ye=new ae("/TRIGGER/DELETE"),Ze=new ae("/TRIGGER/DELETE/All"),Me=function(e){Object(F.a)(r,e);var t=Object(q.a)(r);function r(){var e,n;Object(H.a)(this,r);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(n=t.call.apply(t,[this].concat(c))).assignment=(e={},Object(L.a)(e,Ge.requestActionType,n.getTriggers),Object(L.a)(e,Ve.requestActionType,n.addTrigger),Object(L.a)(e,Ue.requestActionType,n.updateTrigger),Object(L.a)(e,Ye.requestActionType,n.deleteTrigger),Object(L.a)(e,Ze.requestActionType,n.deleteAllTrigger),e),n}return Object(D.a)(r,[{key:"getTriggers",value:x.a.mark((function e(t){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(ce.b)(re.get,{url:"/trigger/list"});case 3:return r=e.sent,e.next=6,Object(ce.c)(Ge.response(r));case 6:e.next=17;break;case 8:return e.prev=8,e.t0=e.catch(0),e.next=12,Object(ce.c)(Ge.error(e.t0));case 12:if(!e.t0.errors.includes("User is not authenticated")){e.next=15;break}return e.next=15,Object(ce.c)(Object(ie.d)("/"));case 15:return e.next=17,Object(ce.c)(oe("Error",e.t0.errors.join(". ")));case 17:case"end":return e.stop()}}),e,null,[[0,8]])}))},{key:"addTrigger",value:x.a.mark((function e(t){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(ce.b)(re.post,{url:"/trigger/add",payload:t.payload});case 3:return r=e.sent,e.next=6,Object(ce.c)(Ve.response(r));case 6:return e.next=8,Object(ce.c)(oe("Success",r.message.join("")));case 8:e.next=19;break;case 10:return e.prev=10,e.t0=e.catch(0),e.next=14,Object(ce.c)(Ve.error(e.t0));case 14:if(!e.t0.errors.includes("User is not authenticated")){e.next=17;break}return e.next=17,Object(ce.c)(Object(ie.d)("/"));case 17:return e.next=19,Object(ce.c)(oe("Error",e.t0.errors.join(". ")));case 19:case"end":return e.stop()}}),e,null,[[0,10]])}))},{key:"updateTrigger",value:x.a.mark((function e(t){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(ce.b)(re.put,{url:"/trigger/update",payload:t.payload});case 3:return r=e.sent,e.next=6,Object(ce.c)(Ue.response(r));case 6:return e.next=8,Object(ce.c)(oe("Success",r.message.join("")));case 8:setTimeout((function(){window.location.reload()}),1e3),e.next=20;break;case 11:return e.prev=11,e.t0=e.catch(0),e.next=15,Object(ce.c)(Ue.error(e.t0));case 15:if(!e.t0.errors.includes("User is not authenticated")){e.next=18;break}return e.next=18,Object(ce.c)(Object(ie.d)("/"));case 18:return e.next=20,Object(ce.c)(oe("Error",e.t0.errors.join(". ")));case 20:case"end":return e.stop()}}),e,null,[[0,11]])}))},{key:"deleteTrigger",value:x.a.mark((function e(t){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(ce.b)(re.delete,{url:"/trigger/delete",payload:t.payload});case 3:return r=e.sent,e.next=6,Object(ce.c)(Ye.response(r));case 6:return e.next=8,Object(ce.c)(oe("Success",r.message.join("")));case 8:setTimeout((function(){window.location.reload()}),1e3),e.next=20;break;case 11:return e.prev=11,e.t0=e.catch(0),e.next=15,Object(ce.c)(Ye.error(e.t0));case 15:if(!e.t0.errors.includes("User is not authenticated")){e.next=18;break}return e.next=18,Object(ce.c)(Object(ie.d)("/"));case 18:return e.next=20,Object(ce.c)(oe("Error",e.t0.errors.join(". ")));case 20:case"end":return e.stop()}}),e,null,[[0,11]])}))},{key:"deleteAllTrigger",value:x.a.mark((function e(t){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(ce.b)(re.delete,{url:"/trigger/delete/all",payload:t.payload});case 3:return r=e.sent,e.next=6,Object(ce.c)(Ze.response(r));case 6:return e.next=8,Object(ce.c)(oe("Success",r.message.join("")));case 8:setTimeout((function(){window.location.reload()}),1e3),e.next=20;break;case 11:return e.prev=11,e.t0=e.catch(0),e.next=15,Object(ce.c)(Ze.error(e.t0));case 15:if(!e.t0.errors.includes("User is not authenticated")){e.next=18;break}return e.next=18,Object(ce.c)(Object(ie.d)("/"));case 18:return e.next=20,Object(ce.c)(oe("Error",e.t0.errors.join(". ")));case 20:case"end":return e.stop()}}),e,null,[[0,11]])}))}]),r}(se),Be=function(e){var t=e.show,r=e.onHide,n=e.name,s=e.symbol,o=Object(j.d)(),i=Object(j.e)((function(e){return e.triggers.add}));function u(){return(u=Object(v.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(Ve.request(Object(l.a)(Object(l.a)({},t),{},{price:parseFloat(t.price.toString().trim()),symbol:s})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){return function(){o(Ve.clear())}}),[o]),Object(c.useEffect)((function(){!i.loading&&(i.data||i.error)&&t&&r()}),[i,t,r]),Object(a.jsx)(Te.a,{show:t,onHide:r,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static",children:Object(a.jsx)(g.c,{initialValues:{type:"gte",price:0},onSubmit:function(e){return function(e){return u.apply(this,arguments)}(e)},validationSchema:I,children:function(e){var t=e.dirty,c=e.isValid;return Object(a.jsxs)(g.b,{children:[Object(a.jsx)(Te.a.Header,{closeButton:!0,children:Object(a.jsx)(Te.a.Title,{id:"contained-modal-title-vcenter",children:"Add Price Alert"})}),Object(a.jsxs)(Te.a.Body,{children:[Object(a.jsx)("h5",{className:"mb-4",children:n}),Object(a.jsxs)(y.a.Group,{controlId:"type",children:[Object(a.jsx)(y.a.Label,{children:"Select Type"}),Object(a.jsx)(ze,{options:[{key:"lte",value:"Less Than equal to"},{key:"gte",value:"Greater than equal to"}],name:"type",type:"select",placeholder:"Select Trigger Type"})]}),Object(a.jsxs)(y.a.Group,{controlId:"price",children:[Object(a.jsx)(y.a.Label,{children:"Cut Off Price"}),Object(a.jsx)(k,{name:"price",type:"text",placeholder:"Enter Cut Off Price",autoComplete:"off"})]})]}),Object(a.jsxs)(Te.a.Footer,{children:[Object(a.jsx)(E,{type:"submit",loading:i.loading,disabled:i.loading||!c||!t,loadingText:"Loading...",staticText:"Add Trigger"}),Object(a.jsx)(A.a,{variant:"secondary",onClick:r,children:"Close"})]})]})}})})},Ke=function(e){var t=e.name,r=e.symbol,n=e.show,s=e.onHide,o=Object(j.d)(),i=Object(j.e)((function(e){return e.stocks.delete}));function l(){return(l=Object(v.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(he.request({symbol:r}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){return function(){o(he.clear())}}),[o]),Object(c.useEffect)((function(){i.loading||!i.data&&!i.error||s()}),[i,s]),Object(a.jsxs)(Te.a,{show:n,onHide:s,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(a.jsx)(Te.a.Header,{closeButton:!0,children:Object(a.jsx)(Te.a.Title,{id:"contained-modal-title-vcenter",children:t})}),Object(a.jsx)(Te.a.Body,{children:Object(a.jsx)("h5",{children:"Are you sure, you want to remove this stock from watchlist ?"})}),Object(a.jsxs)(Te.a.Footer,{children:[Object(a.jsxs)(A.a,{variant:"danger",type:"submit",disabled:i.loading,onClick:function(){return l.apply(this,arguments)},children:[Object(a.jsx)(T.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:i.loading?"d-inline-block":"d-none"}),Object(a.jsx)("span",{className:i.loading?"ml-3 d-inline-block":"d-none",children:"Loading..."}),Object(a.jsx)("span",{className:i.loading?"d-none":"d-inline-block",children:"Yes, I confirm"})]}),Object(a.jsx)(A.a,{variant:"primary",onClick:s,children:"No"})]})]})},We=r(123),Qe=function(e){var t=e.size,r=e.loading,n=e.color,c=e.text,s=e.type;return Object(a.jsxs)("div",{style:{height:"70vh"},className:r?"d-flex justify-content-center align-items-center flex-column":"d-none",children:["wave"===s?Object(a.jsx)(We.WaveSpinner,{size:t,color:n,loading:r}):Object(a.jsx)(We.MetroSpinner,{size:t,color:n,loading:r}),Object(a.jsx)("div",{className:r?"mt-2":"d-none",children:Object(a.jsxs)("h5",{className:"text-center",children:[" ",c]})})]})},Je={global:{interval:null,portfolioInterval:null}};function Xe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_INTERVAL_KEY":case"UPDATE_PORTFOLIO_INTERVAL_KEY":return Object(l.a)(Object(l.a)({},e),{},{global:Object(l.a)(Object(l.a)({},e.global),t.payload)});default:return Je}}var _e=s.a.createContext(Je),$e=function(e){var t,r=Object(j.d)(),n=Object(j.e)((function(e){return e.stocks.list})),s=Object(c.useState)(null),o=Object(u.a)(s,2),i=o[0],d=o[1],b=Object(c.useState)(null),p=Object(u.a)(b,2),O=p[0],h=p[1],f=Object(c.useContext)(_e);return Object(c.useEffect)((function(){r(fe.request(null))}),[r]),Object(c.useEffect)((function(){return function(){f.global.interval&&(clearInterval(f.global.interval),f.dispatch({type:"UPDATE_INTERVAL_KEY",payload:{interval:null}}))}}),[f.dispatch,f.global.interval]),Object(c.useEffect)((function(){var e;if(null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.isMarketOpen){var t=n.data.isMarketOpen.open,a=n.data.isMarketOpen.change;if(t){if(!f.global.interval){var c=setInterval((function(){r(fe.request(null))}),a);f.dispatch({type:"UPDATE_INTERVAL_KEY",payload:{interval:c}})}}else f.global.interval&&(clearInterval(f.global.interval),f.dispatch({type:"UPDATE_INTERVAL_KEY",payload:{interval:null}}))}}),[null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.isMarketOpen,f.dispatch,f.global.interval,r]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Le,{}),Object(a.jsx)(me.a,{children:Object(a.jsxs)("div",{className:"mb-4",style:{marginTop:"5rem"},children:[Object(a.jsx)("h1",{className:"mb-3",children:"Stock Watch List"}),Object(a.jsx)(De,{}),n.data&&Object(a.jsx)(ye.a,{children:Object.keys(n.data).map((function(e){return"isMarketOpen"!==e?Object(a.jsx)(we.a,{lg:"4",className:"mt-4",children:Object(a.jsx)(qe,Object(l.a)(Object(l.a)({symbol:e},n.data[e]),{},{setAddTrigger:d,setDeleteStock:h}))},e):null}))})]})}),Object(a.jsx)(Qe,{loading:!(!n.loading||n.data),type:"wave",color:"#000",size:120,text:"Loading your stocks watchlist. Please wait..."}),i&&Object(a.jsx)(Be,{show:!!i,name:i?i.name:"",symbol:i?i.symbol:"",onHide:function(){return d(null)}}),O&&Object(a.jsx)(Ke,{show:!!O,name:O?O.name:"",symbol:O?O.symbol:"",onHide:function(){return h(null)}})]})},et=r(170),tt=function(e){var t=e.sno,r=e.id,n=e.symbol,c=e.type,s=e.price,o=e.isTriggered,i=e.triggeredAt,l=e.setDeleteTrigger,u=e.setEditTrigger,d=i?new Date(i):null;return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:t}),Object(a.jsx)("td",{children:n}),Object(a.jsx)("td",{children:"lte"===c?"Less Than":"Geater Than"}),Object(a.jsx)("td",{children:s}),Object(a.jsx)("td",{children:o?"".concat(d.toLocaleDateString()," ").concat(d.toLocaleTimeString()):"No"}),Object(a.jsx)("td",{children:Object(a.jsxs)("div",{className:"d-inline",children:[Object(a.jsx)(A.a,{className:"mr-2",variant:"light",disabled:o,onClick:function(){return u({id:r,symbol:n,type:c,price:s})},children:"Update"}),Object(a.jsx)(A.a,{variant:"danger",onClick:function(){return l({id:r,symbol:n})},children:"Delete"})]})})]})},rt=function(e){var t=e.symbol,r=e.show,n=e.onHide,s=e.text,o=e.type,i=e.payload,u=e.response,d=Object(j.d)();function b(){return(b=Object(v.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"single"===o&&"id"in i?d(Ye.request(Object(l.a)({},i))):"onlyTriggered"in i&&d(Ze.request(Object(l.a)({},i)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){return function(){d("single"===o?Ye.clear():Ze.clear())}}),[d,o]),Object(c.useEffect)((function(){u.loading||!u.data&&!u.error||n()}),[u,n]),Object(a.jsxs)(Te.a,{show:r,onHide:n,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(a.jsx)(Te.a.Header,{closeButton:!0,children:Object(a.jsx)(Te.a.Title,{id:"contained-modal-title-vcenter",children:t||"Delete Alerts"})}),Object(a.jsx)(Te.a.Body,{children:Object(a.jsx)("h5",{children:s})}),Object(a.jsxs)(Te.a.Footer,{children:[Object(a.jsxs)(A.a,{variant:"danger",type:"submit",disabled:u.loading,onClick:function(){return b.apply(this,arguments)},children:[Object(a.jsx)(T.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:u.loading?"d-inline-block":"d-none"}),Object(a.jsx)("span",{className:u.loading?"ml-3 d-inline-block":"d-none",children:"Loading..."}),Object(a.jsx)("span",{className:u.loading?"d-none":"d-inline-block",children:"Yes, I confirm"})]}),Object(a.jsx)(A.a,{variant:"primary",onClick:n,children:"No"})]})]})},nt=function(e){var t=e.id,r=e.show,n=e.onHide,s=e.symbol,o=e.type,i=e.price,u=Object(j.d)(),d=Object(j.e)((function(e){return e.triggers.update}));function b(){return(b=Object(v.a)(x.a.mark((function e(r){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u(Ue.request(Object(l.a)(Object(l.a)({},r),{},{price:parseFloat(r.price.toString().trim()),id:t})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){return function(){u(Ue.clear())}}),[u]),Object(c.useEffect)((function(){!d.loading&&(d.data||d.error)&&r&&n()}),[d,r,n]),Object(a.jsx)(Te.a,{show:r,onHide:n,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static",children:Object(a.jsx)(g.c,{initialValues:{type:o,price:i},onSubmit:function(e){return function(e){return b.apply(this,arguments)}(e)},validationSchema:I,children:function(e){var t=e.dirty,r=e.isValid;return Object(a.jsxs)(g.b,{children:[Object(a.jsx)(Te.a.Header,{closeButton:!0,children:Object(a.jsx)(Te.a.Title,{id:"contained-modal-title-vcenter",children:"Update Price Alert"})}),Object(a.jsxs)(Te.a.Body,{children:[Object(a.jsx)("h5",{className:"mb-4",children:s}),Object(a.jsxs)(y.a.Group,{controlId:"type",children:[Object(a.jsx)(y.a.Label,{children:"Select Type"}),Object(a.jsx)(ze,{options:[{key:"lte",value:"Less Than equal to"},{key:"gte",value:"Greater than equal to"}],name:"type",type:"select",placeholder:"Select Trigger Type"})]}),Object(a.jsxs)(y.a.Group,{controlId:"price",children:[Object(a.jsx)(y.a.Label,{children:"Cut Off Price"}),Object(a.jsx)(k,{name:"price",type:"text",placeholder:"Enter Cut Off Price",autoComplete:"off"})]})]}),Object(a.jsxs)(Te.a.Footer,{children:[Object(a.jsx)(E,{type:"submit",loading:d.loading,disabled:d.loading||!r||!t,loadingText:"Loading...",staticText:"Update Trigger"}),Object(a.jsx)(A.a,{variant:"secondary",onClick:n,children:"Close"})]})]})}})})},at=function(e){var t=Object(c.useState)(null),r=Object(u.a)(t,2),n=r[0],s=r[1],o=Object(j.e)((function(e){return e.triggers.deleteAll}));return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"d-flex justify-content-center mb-3",children:[Object(a.jsx)(A.a,{className:"mr-2",variant:"danger",onClick:function(){return s({onlyTriggered:!1})},children:"Delete All"}),Object(a.jsx)(A.a,{variant:"info",onClick:function(){return s({onlyTriggered:!0})},children:"Delete Only Triggered"})]}),n&&Object(a.jsx)(rt,{type:"multiple",show:!0,onHide:function(){return s(null)},payload:{onlyTriggered:n.onlyTriggered},text:n.onlyTriggered?"Are you sure you want to delete all triggered alerts ?":"Are you sure you want to delete all alerts ?",response:o})]})},ct=function(e){var t=Object(j.d)(),r=Object(j.e)((function(e){return e.triggers.list})),n=Object(c.useState)(null),s=Object(u.a)(n,2),o=s[0],i=s[1],d=Object(c.useState)(null),b=Object(u.a)(d,2),p=b[0],O=b[1],h=Object(j.e)((function(e){return e.triggers.delete}));return Object(c.useEffect)((function(){t(Ge.request(null))}),[t]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Le,{}),Object(a.jsx)(me.a,{children:Object(a.jsxs)("div",{className:"mb-4",style:{marginTop:"5rem"},children:[Object(a.jsx)("h1",{className:"mb-3",children:"Manage Alerts"}),r.data?r.data.length>0?Object(a.jsxs)(et.a,{responsive:"lg",striped:!0,bordered:!0,hover:!0,variant:"dark",size:"lg",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"#"}),Object(a.jsx)("th",{children:"Stock"}),Object(a.jsx)("th",{children:"Type"}),Object(a.jsx)("th",{children:"Price"}),Object(a.jsx)("th",{children:"Is Triggered"}),Object(a.jsx)("th",{children:"Action"})]})}),Object(a.jsx)("tbody",{children:r.data.map((function(e,t){return Object(a.jsx)(tt,Object(l.a)({setDeleteTrigger:i,setEditTrigger:O,sno:t+1},e),t)}))})]}):Object(a.jsx)("h3",{className:"mt-3",children:"You haven't set any alerts !!"}):null]})}),Object(a.jsx)(Qe,{loading:!(!r.loading||r.data),type:"metro",color:"#000",size:120,text:"Loading your alerts. Please wait..."}),o&&Object(a.jsx)(rt,{show:!0,onHide:function(){return i(null)},type:"single",text:"Are you sure, you want to remove this alert ?",payload:{id:o.id},symbol:o.symbol,response:h}),p&&Object(a.jsx)(nt,Object(l.a)({show:!0,onHide:function(){return O(null)}},p)),r.data&&r.data.length>0&&Object(a.jsx)(at,{})]})};function st(e){return"open"in e}var ot=new ae("/HOLDING/ADD"),it=new ae("/HOLDING/DELETE"),lt=new ae("/HOLDING/LIST"),ut=function(e){Object(F.a)(r,e);var t=Object(q.a)(r);function r(){var e,n;Object(H.a)(this,r);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(n=t.call.apply(t,[this].concat(c))).assignment=(e={},Object(L.a)(e,ot.requestActionType,n.addHolding),Object(L.a)(e,it.requestActionType,n.deleteHolding),Object(L.a)(e,lt.requestActionType,n.list),e),n}return Object(D.a)(r,[{key:"addHolding",value:x.a.mark((function e(t){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(ce.b)(re.post,{url:"/holding/add",payload:t.payload});case 3:return r=e.sent,e.next=6,Object(ce.c)(ot.response(r));case 6:return e.next=8,Object(ce.c)(oe("Success",r.message.join("")));case 8:e.next=19;break;case 10:return e.prev=10,e.t0=e.catch(0),e.next=14,Object(ce.c)(ot.error(e.t0));case 14:if(!e.t0.errors.includes("User is not authenticated")){e.next=17;break}return e.next=17,Object(ce.c)(Object(ie.d)("/"));case 17:return e.next=19,Object(ce.c)(oe("Error",e.t0.errors.join(". ")));case 19:case"end":return e.stop()}}),e,null,[[0,10]])}))},{key:"deleteHolding",value:x.a.mark((function e(t){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(ce.b)(re.post,{url:"/holding/delete",payload:t.payload});case 3:return r=e.sent,e.next=6,Object(ce.c)(it.response(r));case 6:return e.next=8,Object(ce.c)(oe("Success",r.message.join("")));case 8:e.next=19;break;case 10:return e.prev=10,e.t0=e.catch(0),e.next=14,Object(ce.c)(it.error(e.t0));case 14:if(!e.t0.errors.includes("User is not authenticated")){e.next=17;break}return e.next=17,Object(ce.c)(Object(ie.d)("/"));case 17:return e.next=19,Object(ce.c)(oe("Error",e.t0.errors.join(". ")));case 19:case"end":return e.stop()}}),e,null,[[0,10]])}))},{key:"list",value:x.a.mark((function e(t){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(ce.b)(re.get,{url:"/holding/list"});case 3:return r=e.sent,e.next=6,Object(ce.c)(lt.response(r));case 6:e.next=17;break;case 8:return e.prev=8,e.t0=e.catch(0),e.next=12,Object(ce.c)(lt.error(e.t0));case 12:if(!e.t0.errors.includes("User is not authenticated")){e.next=15;break}return e.next=15,Object(ce.c)(Object(ie.d)("/"));case 15:return e.next=17,Object(ce.c)(oe("Error",e.t0.errors.join(". ")));case 17:case"end":return e.stop()}}),e,null,[[0,8]])}))}]),r}(se),dt=function(e){var t=e.symbol,r=e.quantity,n=e.totalInvested,c=e.avgPrice,s=e.currentPrice,o=e.pChange,i=e.profit,l=e.profitChange;return Object(a.jsx)(Fe.a,{body:!0,children:Object(a.jsxs)("div",{className:"d-flex",children:[Object(a.jsxs)("div",{className:"w-50",children:[Object(a.jsx)("div",{children:Object(a.jsxs)(Fe.a.Subtitle,{style:{color:"#aaa"},className:"font-weight-bold",children:[Object(a.jsxs)("span",{className:"mr-2",children:[" ",r," Qty"]}),Object(a.jsxs)("span",{children:["Avg: ",c]})]})}),Object(a.jsx)("div",{className:"my-1",children:Object(a.jsx)(Fe.a.Title,{children:t})}),Object(a.jsx)("div",{children:Object(a.jsxs)(Fe.a.Subtitle,{children:["Invested ",n]})})]}),Object(a.jsx)("div",{className:"w-50 d-flex justify-content-end",children:Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:l>=0?"color-green text-right":"color-red text-right",children:[l>=0?"+".concat(l):l,"%"]}),Object(a.jsx)("div",{className:i>=0?"color-green text-right":"color-red text-right",children:i>=0?"+".concat(i):i}),Object(a.jsxs)("div",{style:{marginTop:"-.25rem"},children:[Object(a.jsxs)(Fe.a.Subtitle,{style:{display:"inline-block"},children:["LTP ",s]}),Object(a.jsxs)("span",{className:o>=0?"color-green":"color-red",children:[" (",o>=0?"+".concat(o):o,"%)"]})]})]})})]})})},jt=(r(160),function(e){var t=e.totalInvested,r=void 0===t?0:t,n=e.totalCurrentValue,c=void 0===n?0:n,s=e.totalProfit,o=void 0===s?0:s,i=e.totalProfitChange,l=void 0===i?0:i;return Object(a.jsxs)(Fe.a,{body:!0,className:"mb-1",text:"white",style:{background:"#356693"},children:[Object(a.jsxs)("div",{className:"d-flex",children:[Object(a.jsxs)("div",{className:"w-50 text-center",children:[Object(a.jsx)("div",{children:Object(a.jsx)(Fe.a.Subtitle,{style:{color:"#ddd"},children:"Invested"})}),Object(a.jsx)("div",{className:"my-2",children:Object(a.jsx)(Fe.a.Title,{children:r})})]}),Object(a.jsx)("div",{className:"w-50 d-flex justify-content-center",children:Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{children:Object(a.jsx)(Fe.a.Subtitle,{style:{color:"#ddd"},children:"Current"})}),Object(a.jsx)("div",{className:"my-2",children:Object(a.jsx)(Fe.a.Title,{children:c})})]})})]}),Object(a.jsx)("hr",{className:"header-hr"}),Object(a.jsxs)("div",{className:"d-flex",children:[Object(a.jsx)("div",{className:"w-50 text-center",children:Object(a.jsx)("div",{children:Object(a.jsx)(Fe.a.Subtitle,{style:{color:"#ddd",fontSize:"1.25rem"},children:"P&L"})})}),Object(a.jsx)("div",{className:"w-50 d-flex justify-content-center",children:Object(a.jsxs)("div",{style:{marginTop:"-.4rem"},children:[Object(a.jsxs)(Fe.a.Title,{style:{display:"inline"},className:o>=0?"color-green":"color-red",children:[o>=0?"+".concat(o):o," "]}),Object(a.jsxs)("span",{style:{fontSize:"0.8rem"},className:l>=0?"color-green":"color-red",children:[l>=0?"+".concat(l):l,"% "]})]})})]})]})}),bt=function(e){var t=e.todayProfit,r=void 0===t?0:t,n=e.todayProfitChange,c=void 0===n?0:n;return Object(a.jsx)(Fe.a,{body:!0,className:"my-1",text:"white",style:{background:"#356693"},children:Object(a.jsxs)("div",{className:"d-flex",children:[Object(a.jsx)("div",{className:"w-50",children:"Today's P&L"}),Object(a.jsx)("div",{className:"w-50 text-right font-weight-bold",children:Object(a.jsxs)("span",{className:r>=0?"color-green":"color-red",children:[r>=0?"+".concat(r):r," ",c>=0?"+".concat(c):c,"%"]})})]})})},pt=function(e){var t=Object(j.d)(),r=Object(j.e)((function(e){return e.portfolio.list})),n=Object(c.useContext)(_e);return Object(c.useEffect)((function(){t(lt.request(null))}),[t]),Object(c.useEffect)((function(){return function(){n.global.portfolioInterval&&(clearInterval(n.global.portfolioInterval),n.dispatch({type:"UPDATE_PORTFOLIO_INTERVAL_KEY",payload:{portfolioInterval:null}}))}}),[n.dispatch,n.global.portfolioInterval]),Object(c.useEffect)((function(){if(null===r||void 0===r?void 0:r.data){var e=Object.values(r.data).find((function(e){return st(e)}));if(e&&st(e)){var a=e.open,c=e.change;if(a){if(!n.global.portfolioInterval){var s=setInterval((function(){t(lt.request(null))}),c);n.dispatch({type:"UPDATE_PORTFOLIO_INTERVAL_KEY",payload:{portfolioInterval:s}})}}else n.global.portfolioInterval&&(clearInterval(n.global.portfolioInterval),n.dispatch({type:"UPDATE_PORTFOLIO_INTERVAL_KEY",payload:{portfolioInterval:null}}))}}}),[null===r||void 0===r?void 0:r.data,n.dispatch,n.global.portfolioInterval,t]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Le,{}),Object(a.jsx)(me.a,{children:Object(a.jsxs)("div",{className:"mb-4",style:{marginTop:"5rem"},children:[Object(a.jsx)("h1",{className:"mb-3",children:"Portfolio"}),r.data&&Object.keys(r.data).map((function(e,t){var n=r.data[e];return"totalProfit"in n?Object(c.createElement)(jt,Object(l.a)(Object(l.a)({},n),{},{key:t})):null})),r.data&&Object.keys(r.data).map((function(e,t){var n=r.data[e];return"symbol"in n?Object(c.createElement)(dt,Object(l.a)(Object(l.a)({},n),{},{key:t})):null})),r.data&&Object.keys(r.data).map((function(e,t){var n=r.data[e];return"todayProfit"in n?Object(c.createElement)(bt,Object(l.a)(Object(l.a)({},n),{},{key:t})):null}))]})}),Object(a.jsx)(Qe,{loading:!(!r.loading||r.data),type:"wave",color:"#000",size:120,text:"Loading your portfolio. Please wait..."})]})};var Ot=function(){var e=Object(c.useReducer)(Xe,Je),t=Object(u.a)(e,2),r=t[0],n=t[1];return Object(a.jsxs)(_e.Provider,{value:Object(l.a)(Object(l.a)({},r),{},{dispatch:n}),children:[Object(a.jsx)(O,{}),Object(a.jsxs)(h.c,{children:[Object(a.jsx)(h.a,{path:"/signup",component:ge}),Object(a.jsx)(h.a,{path:"/stockList",component:$e}),Object(a.jsx)(h.a,{path:"/triggerList",component:ct}),Object(a.jsx)(h.a,{path:"/portfolio",component:pt}),Object(a.jsx)(h.a,{path:"/",component:ve})]})]})},ht=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ft(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var r=e.installing;null!=r&&(r.onstatechange=function(){"installed"===r.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var xt=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,178)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;r(e),n(e),a(e),c(e),s(e)}))},vt=r(40),gt=r(138),mt=r(46);r(162);function yt(e,t){return function(r,n){return r?e(r,n):t}}function wt(e){return function(t,r){return Object(l.a)(Object(l.a)({},t),Object.keys(e).reduce((function(n,a){return n[a]=e[a](t[a],r),n}),{}))}}function kt(e){return e.reduce((function(e,t){return function(r,n){return t(e(r,n),n)}}),(function(e,t){return e}))}var At={login:ne(null),signup:ne(null),changePassword:ne(null),logout:ne(null)},Tt=yt(kt([wt({login:le.reducer,signup:je.reducer,changePassword:ue.reducer,logout:de.reducer})]),At),Et={search:ne(null),add:ne(null),delete:ne(null),list:ne(null)},Nt=yt(kt([wt({search:pe.reducer,add:Oe.reducer,delete:he.reducer,list:fe.reducer})]),Et),Ct={list:ne(null),add:ne(null),update:ne(null),delete:ne(null),deleteAll:ne(null)},St=yt(kt([wt({list:Ge.reducer,add:Ve.reducer,update:Ue.reducer,delete:Ye.reducer,deleteAll:Ze.reducer})]),Ct),Pt={add:ne(null),delete:ne(null),list:ne(null)},It=yt(kt([wt({add:ot.reducer,delete:it.reducer,list:lt.reducer})]),Pt),Lt={user:At,router:void 0,stocks:Et,toast:b,triggers:Ct,portfolio:Pt};var Ht=r(49),Dt=r(128),Ft=function(){function e(t){Object(H.a)(this,e),this.sagas=t}return Object(D.a)(e,[{key:"rootSaga",value:x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ce.a)(this.sagas.map((function(e){return e.rootSaga()})));case 2:case"end":return e.stop()}}),e,this)}))}]),e}(),qt=Object(Ht.a)(),Rt=Object(gt.a)(),zt=function(e,t){var r=mt.d;return Object(mt.e)(function(e){return Object(mt.c)({user:Tt,router:Object(vt.b)(e),stocks:Nt,toast:p,triggers:St,portfolio:It})}(e),Lt,r(mt.a.apply(void 0,Object(K.a)(t))))}(qt,[Rt,Object(Dt.a)(qt)]),Gt=new Ft([new be,new xe,new Ie,new Me,new ut]);Rt.run(Gt.rootSaga.bind(Gt)),i.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(j.a,{store:zt,children:Object(a.jsx)(vt.a,{history:qt,children:Object(a.jsx)(Ot,{})})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");ht?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(r){var n=r.headers.get("content-type");404===r.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ft(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):ft(t,e)}))}}(),xt()}},[[163,1,2]]]);
//# sourceMappingURL=main.133ba5a1.chunk.js.map