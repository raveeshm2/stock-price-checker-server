{"version":3,"sources":["forms/InputField.tsx","ui/toast/reducer.ts","ui/toast/toast.tsx","ui/ButtonSpinner.tsx","utils/validation.ts","global/request.ts","global/model/errors.ts","global/model/interpreter.ts","global/requests.ts","global/store/request.ts","global/store/saga-base.ts","ui/toast/action.tsx","user/store/saga.ts","stocks/store/saga.ts","user/login/login.tsx","user/signup/signup.tsx","user/modals/SettingsModal.tsx","images/logo96.png","utils/notifications.ts","Navbar/subscription/store/saga.ts","Navbar/Navigation.tsx","stocks/StockSearch.tsx","stocks/Stock.tsx","forms/SelectField.tsx","triggers/store/saga.ts","stocks/modals/AddTriggerModal.tsx","stocks/modals/DeleteStockModal.tsx","ui/Spinner.tsx","global/context.ts","portfolio/store/saga.ts","portfolio/modals/AddHoldingModal.tsx","portfolio/modals/DeleteHoldingModal.tsx","stocks/stockList.tsx","triggers/Trigger.tsx","triggers/modals/DeleteTriggerModal.tsx","triggers/modals/EditTriggerModal.tsx","triggers/DeleteAllTriggers.tsx","triggers/triggerList.tsx","portfolio/models/holding.ts","portfolio/Holding.tsx","portfolio/Header.tsx","portfolio/Footer.tsx","portfolio/holdingList.tsx","App.tsx","serviceWorkerRegistration.ts","reportWebVitals.ts","global/store/reducer.ts","user/store/reducer.ts","stocks/store/reducer.ts","triggers/store/reducer.ts","portfolio/store/reducer.ts","root/store/reducer.ts","global/store/main-saga.ts","index.tsx","root/store/store.ts"],"names":["WrappedComponent","initialState","show","header","body","autohide","minHeight","top","right","delay","reducer","state","action","type","payload","Toast","data","useSelector","toast","dispatch","useDispatch","style","position","zIndex","onClose","Header","Body","InputAdapted","Form","Control","props","field","form","rest","meta","onChange","val","setFieldValue","name","target","value","isValid","touched","errors","isInvalid","Feedback","InputField","component","ButtonSpinner","className","variant","loading","disabled","loadingText","staticText","onClick","Button","cursor","as","animation","size","role","aria-hidden","SettingsValidationSchema","yup","currentPassword","required","newPassword","min","confirmPassword","when","is","trim","then","equals","otherwise","max","LoginValidationSchema","email","password","SignUpValidationSchema","AddTriggerValidationSchema","price","matches","AddHoldingValidationSchema","quantity","DeleteHoldingValidationSchema","RequestError","url","status","statusText","Error","objectToQueryString","obj","Object","keys","map","key","join","request","input","init","headers","a","queryParams","process","method","fetch","credentials","response","contentType","get","indexOf","clone","json","console","error","text","errorData","errorInterpreterWrapper","errorsInterpreter","fn","errorsPass","forEach","condition","requestWithErrorHandler","deserialize","JSON","stringify","undefined","received","makeRequestErrorDetector","statusCode","additionalCondition","e","makeErrorInterpreter","detector","errorMessage","serverErrors","length","interpreters","defaultValue","notFoundErrorInterpreter","internalServerError","isAuthenticationErrorWithRedirect","includes","Requests","errorPass","defaultHeaders","getResourceInitialState","requests","post","put","delete","errorDetectors","result","interpreter","Resource","requestActionType","this","errorActionType","responseActionType","clearActionType","clear","SagaBase","assignment","handler","alert","message","bind","takeEvery","getHandler","createToast","LOGIN_RESOURCE","CHANGE_PASSWORD_RESOURCE","LOGOUT_RESOURCE","SIGNUP_RESOURCE","UserSaga","login","changePassword","logout","signup","call","push","STOCK_SEARCH_RESOURCE","STOCK_ADD_RESOURCE","STOCK_DELETE_RESOURCE","STOCK_LIST_RESOURCE","StocksSaga","searchStock","addStock","deleteStock","list","setTimeout","window","location","reload","history","pathname","Login","user","useEffect","id","initialValues","onSubmit","validationSchema","dirty","Group","controlId","placeholder","autoComplete","Text","fontSize","href","SignUp","SettingsModal","onHide","Modal","aria-labelledby","centered","backdrop","settings","closeButton","Title","Label","Footer","showNotification","Notification","requestPermission","log","navigator","serviceWorker","ready","swRegistration","options","icon","tag","vibrate","renotify","badge","SUBSCRIPTION_ADD_RESOURCE","SubscriptionSaga","addSubscription","Navigation","useState","setSettings","urlBase64ToUint8Array","base64String","base64","repeat","replace","rawData","atob","outputArray","Uint8Array","i","charCodeAt","pushManager","getSubscription","subscription","convertedVapidKey","subscribe","userVisibleOnly","applicationServerKey","newSubscription","subscriptionJSON","toJSON","endpoint","auth","p256dh","Navbar","bg","fixed","expand","Brand","Toggle","aria-controls","Collapse","Nav","Link","StockSearch","stocks","search","searched","setSearched","submitStock","symbol","event","stockName","ListGroup","stock","Item","Stock","setAddTrigger","setDeleteStock","setAddHolding","setDeleteHolding","computed","useMemo","close","lastPrice","change","previousClose","pChange","Card","minWidth","concat","toFixed","toString","open","lowerCP","upperCP","intraDayHighLow","SelectAdapted","opt","selectFieldAdapter","SelectField","GET_TRIGGER_RESOURCE","ADD_TRIGGER_RESOURCE","UPDATE_TRIGGER_RESOURCE","DELETE_TRIGGER_RESOURCE","DELETE_TRIGGER_ALL_RESOURCE","TriggersSaga","getTriggers","addTrigger","updateTrigger","deleteTrigger","deleteAllTrigger","AddTriggerModal","triggers","add","trigger","parseFloat","DeleteStockModal","Spinner","color","height","global","interval","portfolioInterval","GlobalContext","React","createContext","HOLDING_ADD_RESOURCE","HOLDING_DELETE_RESOURCE","HOLDING_LIST_RESOURCE","PortfolioSaga","addHolding","deleteHolding","AddHoldingModal","portfolio","holding","parseInt","DeleteHoldingModal","StockList","context","useContext","clearInterval","isMarketOpen","isOpen","setInterval","Container","marginTop","CardDeck","Col","lg","Trigger","sno","isTriggered","triggeredAt","setDeleteTrigger","setEditTrigger","formatedTrigger","Date","toLocaleDateString","toLocaleTimeString","DeleteTriggerModal","EditTriggerModal","update","DeleteAllTriggers","deleteState","setDeleteState","deleteAll","onlyTriggered","TriggerList","editTrigger","deleteResponse","Table","responsive","striped","bordered","hover","index","isMarketOpenPayload","Holding","totalInvested","avgPrice","currentPrice","profit","profitChange","Subtitle","display","totalCurrentValue","totalProfit","totalProfitChange","background","todayProfit","todayProfitChange","HoldingList","marketOpen","values","find","App","useReducer","Provider","path","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","handleUndefinedState","combineSimplyfiedReducers","reducers","reduce","acc","addReducers","prev","User","router","Portfolio","MainSaga","sagas","all","saga","rootSaga","createBrowserHistory","sagaMiddleware","createSagaMiddleware","store","middlewares","composeEnhancers","compose","createStoreBase","combineReducers","connectRouter","Root","applyMiddleware","createStore","routerMiddleware","run","ReactDOM","render","StrictMode","document","getElementById","URL","origin","addEventListener","unregister","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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","file":"static/js/main.de45ea03.chunk.js","sourcesContent":["import React, { ComponentType } from 'react';\r\nimport { Field, FieldProps } from 'formik';\r\nimport { Form } from 'react-bootstrap';\r\n\r\ninterface InputFieldProps {\r\n    size?: 'sm' | 'lg';\r\n    readOnly?: boolean;\r\n    disabled?: boolean;\r\n    type?: string,\r\n    className?: string,\r\n    autoComplete?: 'on' | 'off';\r\n\r\n    name: string,\r\n    placeholder?: string\r\n}\r\n\r\n/**\r\n * Props adapter\r\n * @param WrappedComponent\r\n */\r\nconst inputFieldAdapter = (\r\n    /**\r\n     * input control component\r\n     */\r\n    WrappedComponent: ComponentType<any>\r\n) => (\r\n    props: FieldProps<string> & InputFieldProps\r\n) => {\r\n        const { field, form, meta, ...rest } = props;\r\n        return (\r\n            <>\r\n                <WrappedComponent {...field}\r\n                    onChange={((val: any) => {\r\n                        form.setFieldValue(field.name, val.target.value, true)\r\n                    })}\r\n                    {...rest}\r\n                    isValid={form.touched[field.name] && !form.errors[field.name]}\r\n                    isInvalid={!!form.errors[field.name]}\r\n                />\r\n                <Form.Control.Feedback>Looks good!</Form.Control.Feedback>\r\n                <Form.Control.Feedback type=\"invalid\">\r\n                    {form.errors[field.name]}\r\n                </Form.Control.Feedback>\r\n            </>\r\n        );\r\n    };\r\n\r\nconst InputAdapted = inputFieldAdapter(Form.Control);\r\n\r\n\r\nexport const InputField: React.FC<InputFieldProps> = ({ ...props }) => {\r\n\r\n    return (\r\n        <Field\r\n            {...props}\r\n            component={InputAdapted}\r\n        />\r\n    );\r\n}","import { ToastState } from './model';\r\n\r\nexport interface UpdateToast {\r\n    type: 'UPDATE_TOAST',\r\n    payload: ToastState\r\n}\r\n\r\nexport const initialState = {\r\n    show: false,\r\n    header: null,\r\n    body: null,\r\n    autohide: true,\r\n    minHeight: '100px',\r\n    top: '5rem',\r\n    right: '5rem',\r\n    delay: 5000\r\n}\r\n\r\nexport const reducer = (state: ToastState = initialState, action: UpdateToast): ToastState => {\r\n    switch (action.type) {\r\n        case \"UPDATE_TOAST\":\r\n            return { ...state, ...action.payload }\r\n        default:\r\n            return state;\r\n    }\r\n}","import React from 'react'\r\nimport { Toast as BootstrapToast } from \"react-bootstrap\";\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { State } from \"../../root/store/reducer\";\r\nimport { ToastState } from './model';\r\nimport { initialState } from \"./reducer\";\r\n\r\ninterface toastProps { }\r\n\r\nexport const Toast: React.FC<toastProps> = () => {\r\n    const data = useSelector<State, ToastState>(state => state.toast);\r\n    const dispatch = useDispatch();\r\n    return (\r\n        <BootstrapToast\r\n            style={{\r\n                position: 'fixed',\r\n                top: data.top,\r\n                right: data.right,\r\n                zIndex: 10\r\n            }}\r\n            show={data.show}\r\n            autohide={data.autohide}\r\n            onClose={() => dispatch({\r\n                type: 'UPDATE_TOAST',\r\n                payload: initialState\r\n            })}\r\n            delay={data.delay}\r\n        >\r\n            <BootstrapToast.Header>\r\n                {data.header}\r\n            </BootstrapToast.Header>\r\n            <BootstrapToast.Body>{data.body}</BootstrapToast.Body>\r\n        </BootstrapToast>\r\n    );\r\n}","import React from 'react'\r\nimport { Button, Spinner } from 'react-bootstrap';\r\n\r\ninterface ButtonSpinnerProps {\r\n    className?: string,\r\n    type?: 'submit' | 'reset',\r\n    variant?: string,\r\n    loading: boolean,\r\n    disabled: boolean,\r\n    loadingText?: string, // text displayed at the time of loading\r\n    staticText: string // default text,\r\n    onClick?: (event: any) => void\r\n}\r\n\r\nexport const ButtonSpinner: React.FC<ButtonSpinnerProps> = ({ className = '', type = 'button', variant = 'primary', loading, disabled, loadingText = 'Loading...', staticText, onClick }) => {\r\n    return (\r\n        <Button\r\n            className={className}\r\n            variant={variant}\r\n            type={type}\r\n            disabled={disabled}\r\n            style={{ cursor: disabled ? 'not-allowed' : 'pointer' }}\r\n            onClick={onClick}\r\n        >\r\n            <Spinner\r\n                as=\"span\"\r\n                animation=\"border\"\r\n                size=\"sm\"\r\n                role=\"status\"\r\n                aria-hidden=\"true\"\r\n                className={loading ? 'd-inline-block' : 'd-none'}\r\n            />\r\n            <span className={loading ? 'ml-3 d-inline-block' : 'd-none'}>{loadingText}</span>\r\n            <span className={!loading ? 'd-inline-block' : 'd-none'}>{staticText}</span>\r\n        </Button>\r\n    );\r\n}","import * as yup from \"yup\";\r\n\r\nexport const SettingsValidationSchema = yup.object({\r\n    currentPassword: yup.string().required('Current password is required'),\r\n    newPassword: yup.string().min(8, 'Must be atleast 8 characters'),\r\n    confirmPassword: yup.string().when('newPassword', {\r\n        is: (val => val && val.trim() !== ''), then: yup.string().required('Password is required').equals([yup.ref('newPassword')], 'Passwords must match'),\r\n        otherwise: yup.string().max(0, \"Please enter new password first\")\r\n    })\r\n});\r\n\r\nexport const LoginValidationSchema = yup.object({\r\n    email: yup.string().required('Email address is required'),\r\n    password: yup.string().required('Password is required')\r\n});\r\n\r\nexport const SignUpValidationSchema = yup.object({\r\n    email: yup.string().required('Email address is required'),\r\n    password: yup.string().min(8, 'Must be atleast 8 characters'),\r\n    confirmPassword: yup.string().when('password', {\r\n        is: (val => val && val.trim() !== ''), then: yup.string().required('Password is required').equals([yup.ref('password')], 'Passwords must match'),\r\n        otherwise: yup.string().max(0, \"Please enter password first\")\r\n    })\r\n});\r\n\r\nexport const AddTriggerValidationSchema = yup.object({\r\n    type: yup.string().required('Alias name is required'),\r\n    price: yup.string().required('Cutoff price is required').matches(/^[0-9.]+$/, 'Only Numbers are supported')\r\n});\r\n\r\nexport const AddHoldingValidationSchema = yup.object({\r\n    quantity: yup.string().required('Quantity is required'),\r\n    price: yup.string().required('Price is required').matches(/^[0-9.]+$/, 'Only Numbers are supported')\r\n});\r\n\r\nexport const DeleteHoldingValidationSchema = yup.object({\r\n    quantity: yup.string().required('Quantity is required')\r\n});","import { Interpreter } from \"./../global/model/interpreter\";\r\n\r\n/**\r\n * Take type T and omit one property\r\n * @param val\r\n */\r\nexport type Omit<T, K extends keyof T> = Pick<T, Exclude<keyof T, K>>;\r\n\r\n/**\r\n * A general request error class with extracted data, status, error message\r\n */\r\nexport class RequestError<T = null> extends Error {\r\n    public statusText: string | null;\r\n    public data: T;\r\n    constructor(\r\n        /**\r\n         * request url\r\n         */\r\n        public url: string,\r\n        /**\r\n         * status code\r\n         */\r\n        public status: number,\r\n        /**\r\n         * status text\r\n         */\r\n        statusText: string,\r\n        /**\r\n         * body data of the error response\r\n         */\r\n        data: T\r\n    ) {\r\n        super(`${url}: ${status}${statusText ? ` ${statusText}` : ''}`);\r\n        this.data = data;\r\n        this.statusText = statusText || null;\r\n    }\r\n}\r\n\r\n/**\r\n * Checks if any error is a request error\r\n * @param e\r\n */\r\nexport function isRequestError(e: any): e is RequestError<any> {\r\n    return !(e.data) && !(e.url) && !(e.status) && !(e.statusText);\r\n}\r\n\r\nexport interface RequestInitWithQueryParams extends RequestInit {\r\n    queryParams?: string | undefined\r\n}\r\n\r\n/**\r\n * Converts object into formatted query for GET Request\r\n * @param obj - Query Params Object\r\n */\r\nexport function objectToQueryString(obj: any) {\r\n    return Object.keys(obj).map(key => key + '=' + obj[key]).join('&');\r\n}\r\n\r\n/**\r\n * Returns null for null-typed Payload\r\n * @param input\r\n * @param init - headers from init are ignored\r\n * @param headers - here pass the headers\r\n */\r\nexport async function request<SentPayload, ReceivedPayload>(input: RequestInfo, init: RequestInitWithQueryParams, headers?: HeadersInit): Promise<ReceivedPayload> {\r\n    const { queryParams, ...rest } = init;\r\n    let url = `${process.env.REACT_APP_BASE_URL}${input}`;\r\n    if (init.method === 'GET' && queryParams) {\r\n        url += '?' + objectToQueryString(queryParams);\r\n    }\r\n    const response = await fetch(url, {\r\n        credentials: 'include',\r\n        headers,\r\n        ...rest\r\n    });\r\n    if (response.status === 200) {\r\n        const contentType = response.headers.get(\"content-type\");\r\n        if (contentType && contentType.indexOf(\"application/json\") !== -1) {\r\n            try {\r\n                return await response.clone().json();\r\n            } catch (e) {\r\n                console.error(e);\r\n                console.error(response);\r\n                console.error(response.clone().text());\r\n                throw new Error('Error with JSON parsing');\r\n            }\r\n        }\r\n        return null as unknown as ReceivedPayload;\r\n    }\r\n    // if it is not 200 -> extract the error data and throw it\r\n    let errorData = null;\r\n    try {\r\n        errorData = await response.json();\r\n    } catch (e) { }\r\n    throw new RequestError(response.url, response.status, response.statusText, errorData);\r\n}\r\n\r\nexport interface CustomRequestInit<T> extends Omit<RequestInit, 'body'> {\r\n    /**\r\n     * A JS object to be sent in body before stringifying\r\n     */\r\n    payload?: T;\r\n    queryParams?: any;\r\n}\r\n\r\n/**\r\n * Convert errors to some meaningful data\r\n * @param errorsInterpreter\r\n * @param errorsPass\r\n * @param fn\r\n */\r\nexport async function errorInterpreterWrapper<T, ErrorOutput>(\r\n    errorsInterpreter: Interpreter<Error, ErrorOutput>,\r\n    fn: () => Promise<T>,\r\n    errorsPass: Array<(err: any) => boolean> = []\r\n): Promise<T | ErrorOutput> {\r\n    try {\r\n        return await fn();\r\n    } catch (e) {\r\n        errorsPass.forEach(condition => {\r\n            if (condition(e)) {\r\n                throw e;\r\n            }\r\n        });\r\n        console.error(e);\r\n        const et = errorsInterpreter(e);\r\n        throw et;\r\n    }\r\n}\r\n\r\n/**\r\n * Make request and handle errors\r\n * @param input\r\n * @param init\r\n * @param errorsInterpreter\r\n * @param errorsPass detectors for errors which should be thrown out\r\n * @param deserialize\r\n * @param headers\r\n */\r\nexport async function requestWithErrorHandler<SentPayload, ReceivedPayload, ErrorOutput, DeserializedPayload>(\r\n    input: RequestInfo,\r\n    init: CustomRequestInit<SentPayload>,\r\n    errorsInterpreter: Interpreter<Error, ErrorOutput>,\r\n    errorsPass: Array<(e: any) => boolean>,\r\n    deserialize: (response: ReceivedPayload) => DeserializedPayload,\r\n    headers?: HeadersInit\r\n): Promise<DeserializedPayload | ErrorOutput> {\r\n    const { payload, ...rest } = init;\r\n    return errorInterpreterWrapper<DeserializedPayload, ErrorOutput>(errorsInterpreter, async () => {\r\n        const received: ReceivedPayload = await request(input, {\r\n            ...rest,\r\n            body: !(payload) ? undefined : JSON.stringify(payload),\r\n        }, {\r\n            ...headers\r\n        });\r\n        return deserialize(received);\r\n    }, errorsPass);\r\n}\r\n","import { isRequestError, RequestError } from \"../request\";\r\nimport { OptionalInterpreter } from \"./interpreter\";\r\n/**\r\n * A type for JS error exception object.\r\n *\r\n * TODO: make proper typing\r\n */\r\ntype Error = any;\r\n\r\nexport interface Errors {\r\n    errors: string[]\r\n}\r\n\r\n/**\r\n * Check if this is errors object.\r\n * This just checks for errors property, and not its format. The data format is expected to be either some payload,\r\n * or errors. This recognises between these two.\r\n *\r\n * @param data\r\n */\r\nexport function isError<T>(data: T | Errors): data is Errors {\r\n    return typeof (data) === 'object' && !(data) && !((data as unknown as Errors).errors);\r\n}\r\n\r\nexport const makeRequestErrorDetector = <T = any>(\r\n    statusCode: number,\r\n    additionalCondition?: (e: RequestError<T>) => boolean\r\n) => (\r\n    e: any\r\n): boolean => {\r\n        if (e.status !== statusCode) {\r\n            return false;\r\n        }\r\n        return !(additionalCondition) || additionalCondition(e);\r\n    };\r\n\r\n/**\r\n * This makes Interpreter for an HTTP request error which checks with `detector` if the `error` matches the model one.\r\n * If it does, then it generates a user readable message using status text and the error strings returned from backend,\r\n * if not returns undefined.\r\n * @param detector\r\n * @param errorMessage\r\n */\r\nexport const makeErrorInterpreter: (\r\n    detector: (error: Error) => boolean,\r\n    errorMessage: Errors\r\n) => OptionalInterpreter<Error, Errors> = (\r\n    detector: (e: any) => boolean,\r\n    errorMessage: Errors\r\n) => (error: Error): Errors | undefined => {\r\n    if (detector(error)) {\r\n        const serverErrors: string[] = error.data && error.data.errors ? error.data.errors : [];\r\n        if (serverErrors.length > 0)\r\n            return { errors: serverErrors }\r\n        return { errors: [...errorMessage.errors, ...serverErrors] };\r\n    }\r\n    return undefined;\r\n};\r\n\r\n/**\r\n * Generic Interpreter for an HTTP request error which checks for errors in Response\r\n * If found, then it generates a user readable message, with status text of HTTP error code\r\n * and error messages received from backend otherwise it returns undefined\r\n */\r\nexport function genericErrorInterpreter(error: any): Errors | undefined {\r\n    if (isRequestError(error)) {\r\n        const serverErrors = error.data && error.data.errors ? error.data.errors : [];\r\n        return { errors: [error.statusText, ...serverErrors] };\r\n    }\r\n    return undefined;\r\n};\r\n\r\n/**\r\n * This makes Interpreter for an HTTP request error which checks with `detector` if the `error` matches the model one.\r\n * If it does, then it generates a user readable message, if not returns undefined. The difference from\r\n * makeErrorInterpreter is that getErrorMessage can use data from the error object.\r\n * @param detector\r\n * @param getErrorMessage - a function which generates error message out of error object\r\n */\r\nexport const makeErrorFunctionInterpreter: <Output>(\r\n    detector: (error: Error) => boolean,\r\n    getErrorMessage: (error: any) => Output\r\n) => OptionalInterpreter<Error, Output> = <Output>(\r\n    detector: (e: any) => boolean,\r\n    getErrorMessage: (error: any) => Output\r\n) => (error: any): Output | undefined => {\r\n    if (detector(error)) {\r\n        return getErrorMessage(error);\r\n    }\r\n    return undefined;\r\n};\r\n\r\nexport const isNotFoundError = makeRequestErrorDetector(404);\r\nexport const notFoundErrorInterpreter = makeErrorInterpreter(isNotFoundError, { errors: [\"Not found\"] });\r\nexport const internalServerError = makeErrorInterpreter(makeRequestErrorDetector(500), { errors: [\"Internal server error\"] });\r\n\r\nexport const isAuthenticationErrorWithRedirect = makeRequestErrorDetector(401, (e: RequestError<any>) => {\r\n    return (e.data) && e.data.errors.includes('Not authenticated');\r\n});\r\n","/**\r\n * A function which takes an item and may convert it to string readable for a user or return undefined if impossible.\r\n */\r\nexport type OptionalInterpreter<T, Output> = (value: T) => Output | undefined;\r\n\r\nexport type Interpreter<T, Output> = (value: T) => Output;\r\n\r\n/**\r\n * Takes an array of interpreters and return first interpreted value\r\n * @param interpreters\r\n * @param defaultValue information about unknown error\r\n */\r\nexport const composeInterpreters = <T, Output>(\r\n    interpreters: Array<OptionalInterpreter<T, Output>>,\r\n    defaultValue: Output\r\n): Interpreter<T, Output> => (\r\n    value: T\r\n): Output => {\r\n        for (let interpreter of interpreters) {\r\n            const result = interpreter(value);\r\n            if (result) {\r\n                return result;\r\n            }\r\n        }\r\n        return defaultValue;\r\n    };\r\n","\r\nimport { CustomRequestInit, requestWithErrorHandler } from \"./request\";\r\nimport {\r\n    Errors,\r\n    internalServerError,\r\n    notFoundErrorInterpreter,\r\n    genericErrorInterpreter,\r\n    isAuthenticationErrorWithRedirect\r\n} from \"../global/model/errors\"\r\nimport { composeInterpreters } from \"../global/model/interpreter\";\r\n\r\nexport type RequestType = 'GET' | 'PUT' | 'POST' | 'DELETE';\r\n\r\nexport interface RequestProps<RequestPayload, ResponsePayload, DeserializedPayload> {\r\n    url: string;\r\n    deserialize?: (response: ResponsePayload) => DeserializedPayload;\r\n    payload?: RequestPayload;\r\n}\r\n\r\n/**\r\n * A base for a saga which makes requests\r\n */\r\nexport class Requests {\r\n\r\n    static readonly defaultHeaders: HeadersInit = {\r\n        'Content-Type': 'application/json'\r\n    };\r\n\r\n    static post<RequestPayload, ResponsePayload, DeserializedPayload>(\r\n        props: RequestProps<RequestPayload, ResponsePayload, DeserializedPayload>\r\n    ): Promise<DeserializedPayload | Errors> {\r\n        return Requests.fetch<RequestPayload, ResponsePayload, DeserializedPayload>(props.url, {\r\n            method: 'POST',\r\n            payload: props.payload\r\n        }, !(props.deserialize) ? (val => val as unknown as DeserializedPayload) : props.deserialize);\r\n    };\r\n\r\n    static put<RequestPayload, ResponsePayload, DeserializedPayload>(\r\n        props: RequestProps<RequestPayload, ResponsePayload, DeserializedPayload>\r\n    ): Promise<DeserializedPayload | Errors> {\r\n        return Requests.fetch<RequestPayload, ResponsePayload, DeserializedPayload>(props.url, {\r\n            method: 'PUT',\r\n            payload: props.payload\r\n        }, !(props.deserialize) ? (val => val as unknown as DeserializedPayload) : props.deserialize);\r\n    };\r\n\r\n    static get<RequestPayload, ResponsePayload, DeserializedPayload>(\r\n        props: RequestProps<RequestPayload, ResponsePayload, DeserializedPayload>\r\n    ): Promise<DeserializedPayload | Errors> {\r\n        return Requests.fetch<RequestPayload, ResponsePayload, DeserializedPayload>(props.url, {\r\n            method: 'GET',\r\n            queryParams: props.payload\r\n        }, !(props.deserialize) ? (val => val as unknown as DeserializedPayload) : props.deserialize);\r\n    };\r\n\r\n    static delete<RequestPayload>(\r\n        props: RequestProps<RequestPayload, null, null>\r\n    ): Promise<null | Errors> {\r\n        return Requests.fetch<RequestPayload, null, null>(props.url, {\r\n            method: 'DELETE',\r\n            payload: props.payload\r\n        }, val => val);\r\n    };\r\n\r\n    static readonly requests: { [key: string]: (props: RequestProps<any, any, any>) => Promise<any> } = {\r\n        'GET': Requests.get,\r\n        'POST': Requests.post,\r\n        'PUT': Requests.put,\r\n        'DELETE': Requests.delete,\r\n    };\r\n\r\n    static errorPass = [isAuthenticationErrorWithRedirect];\r\n    static errorDetectors = [notFoundErrorInterpreter, internalServerError, genericErrorInterpreter];\r\n    static errorsInterpreter = composeInterpreters(Requests.errorDetectors, { errors: ['Unknown error'] });\r\n\r\n    static async fetch<SentPayload, ReceivedPayload, DeserializedPayload>(\r\n        input: RequestInfo,\r\n        init: CustomRequestInit<SentPayload>,\r\n        deserialize: (response: ReceivedPayload) => DeserializedPayload,\r\n        headers?: HeadersInit,\r\n    ): Promise<DeserializedPayload | Errors> {\r\n        return requestWithErrorHandler<SentPayload, ReceivedPayload, Errors, DeserializedPayload>(\r\n            input,\r\n            init,\r\n            Requests.errorsInterpreter,\r\n            Requests.errorPass,\r\n            deserialize,\r\n            {\r\n                ...Requests.defaultHeaders,\r\n                ...headers\r\n            }\r\n        );\r\n    }\r\n}\r\n","import { Errors } from \"../model/errors\";\r\nimport { RequestStateBase } from \"../model/state\";\r\n\r\nexport function getResourceInitialState<T>(val: RequestStateBase<T>['data']): RequestStateBase<T> {\r\n    return {\r\n        loading: false,\r\n        error: null,\r\n        data: val\r\n    };\r\n}\r\n\r\nexport class Resource<RequestPayload, ResponsePayload, State extends RequestStateBase<any>> {\r\n    constructor(\r\n        protected readonly type: string\r\n    ) { }\r\n\r\n    public readonly requestActionType = `${this.type}_REQUEST`;\r\n    public readonly errorActionType = `${this.type}_ERROR`;\r\n    public readonly responseActionType = `${this.type}_RESPONSE`;\r\n    public readonly clearActionType = `${this.type}_CLEAR`;\r\n\r\n    request = (payload: RequestPayload) => {\r\n        return {\r\n            type: this.requestActionType,\r\n            payload\r\n        }\r\n    };\r\n\r\n    response = (payload: ResponsePayload) => {\r\n        return {\r\n            type: this.responseActionType,\r\n            payload\r\n        }\r\n    };\r\n\r\n    error = (error: Errors, payload?: ResponsePayload) => {\r\n        return {\r\n            type: this.errorActionType,\r\n            error,\r\n            payload\r\n        }\r\n    };\r\n\r\n    clear = () => {\r\n        return {\r\n            type: this.clearActionType\r\n        }\r\n    }\r\n\r\n    reducer = (state: State, action: any): RequestStateBase<any> => {\r\n        switch (action.type) {\r\n            case this.requestActionType:\r\n                return {\r\n                    ...state,\r\n                    loading: true\r\n                };\r\n            case this.responseActionType:\r\n                return {\r\n                    loading: false,\r\n                    data: action.payload,\r\n                    error: null\r\n                };\r\n            case this.errorActionType:\r\n                return {\r\n                    ...state,\r\n                    loading: false,\r\n                    error: [...action.error.errors],\r\n                    data: action.payload ? action.payload : state.data\r\n                };\r\n            case this.clearActionType: {\r\n                return { ...getResourceInitialState(null) }\r\n            }\r\n            default:\r\n                return state;\r\n        }\r\n    }\r\n}\r\n","import { put, takeEvery } from \"redux-saga/effects\";\r\nimport { RequestFailedAction } from \"./actions\";\r\n\r\nexport abstract class SagaBase {\r\n\r\n    abstract assignment: {\r\n        [key: string]: (action: any) => IterableIterator<any>\r\n    };\r\n\r\n    /**\r\n     * Returns an action handler with errors catching\r\n     * @param key\r\n     */\r\n    getHandler(key: string) {\r\n        function* handler(this: SagaBase, key: string, action: any): IterableIterator<any> {\r\n            try {\r\n                yield this.assignment[key](action);\r\n            } catch (e) {\r\n                alert(`${key}: ${e.message}`);\r\n                yield put({ type: \"REQUEST_FAILED\", message: e.message } as RequestFailedAction);\r\n                console.error(e);\r\n            }\r\n        }\r\n        return handler.bind(this, key);\r\n    }\r\n\r\n    /**\r\n     * Distributes actions among the assignment handlers\r\n     */\r\n    *rootSaga(): IterableIterator<any> {\r\n        for (let key of Object.keys(this.assignment)) {\r\n            yield takeEvery(key, this.getHandler(key));\r\n        }\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport { UpdateToast } from \"./reducer\";\r\n\r\nexport const createToast = (header: string, body: string): UpdateToast => {\r\n    return {\r\n        type: \"UPDATE_TOAST\",\r\n        payload: {\r\n            show: true,\r\n            header: <>\r\n                <strong className=\"mr-auto\"> {header} </strong>\r\n            </>,\r\n            body: <>{body}</>\r\n        }\r\n    }\r\n}","import { ItemRequestState } from \"../../global/model/state\";\r\nimport { Requests } from \"../../global/requests\";\r\nimport { Resource } from \"../../global/store/request\";\r\nimport { SagaBase } from \"../../global/store/saga-base\";\r\nimport { LoginModel, SettingsModel } from \"../models/UserModel\";\r\nimport { call, put } from \"redux-saga/effects\";\r\nimport { Response } from \"../../global/model/response\";\r\nimport { createToast } from \"../../ui/toast/action\";\r\nimport { push } from \"connected-react-router\";\r\n\r\nexport const LOGIN_RESOURCE = new Resource<LoginModel, Response, ItemRequestState<Response>>('USER/LOGIN');\r\nexport const CHANGE_PASSWORD_RESOURCE = new Resource<SettingsModel, Response, ItemRequestState<Response>>('USER/CHANGE');\r\nexport const LOGOUT_RESOURCE = new Resource<null, Response, ItemRequestState<Response>>('USER/LOGOUT');\r\nexport const SIGNUP_RESOURCE = new Resource<LoginModel, Response, ItemRequestState<Response>>('USER/SIGNUP');\r\n\r\nexport class UserSaga extends SagaBase {\r\n\r\n    assignment: {\r\n        [actionType: string]: (action: any) => IterableIterator<any>\r\n    } = {\r\n            [LOGIN_RESOURCE.requestActionType]: this.login,\r\n            [CHANGE_PASSWORD_RESOURCE.requestActionType]: this.changePassword,\r\n            [LOGOUT_RESOURCE.requestActionType]: this.logout,\r\n            [SIGNUP_RESOURCE.requestActionType]: this.signup\r\n        };\r\n\r\n    /**\r\n     * Sends Login Request\r\n     * @param action \r\n     */\r\n    *login(action: ReturnType<typeof LOGIN_RESOURCE.request>): IterableIterator<any> {\r\n        try {\r\n            const response = (yield call(Requests.post, {\r\n                url: `/user/login`,\r\n                payload: action.payload\r\n            }))! as Response;\r\n            yield put(LOGIN_RESOURCE.response(response));\r\n            yield put(createToast(\"Success\", response.message.join('')));\r\n            yield put(push('/stockList'));\r\n        } catch (err) {\r\n            yield put(LOGIN_RESOURCE.error(err));\r\n            yield put(createToast(\"Error\", err.errors.join('. ')));\r\n        }\r\n    }\r\n\r\n    /**\r\n    * Sends Signup Request\r\n    * @param action \r\n    */\r\n    *signup(action: ReturnType<typeof SIGNUP_RESOURCE.request>): IterableIterator<any> {\r\n        try {\r\n            const response = (yield call(Requests.post, {\r\n                url: `/user/signup`,\r\n                payload: action.payload\r\n            }))! as Response;\r\n            yield put(SIGNUP_RESOURCE.response(response));\r\n            yield put(createToast(\"Success\", response.message.join('')));\r\n        } catch (err) {\r\n            yield put(SIGNUP_RESOURCE.error(err));\r\n            yield put(createToast(\"Error\", err.errors.join('. ')));\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Sends Change Password Request\r\n     * @param action \r\n     */\r\n    *changePassword(action: ReturnType<typeof CHANGE_PASSWORD_RESOURCE.request>): IterableIterator<any> {\r\n        try {\r\n            const response = (yield call(Requests.put, {\r\n                url: `/user/change`,\r\n                payload: action.payload\r\n            }))! as Response;\r\n            yield put(CHANGE_PASSWORD_RESOURCE.response(response));\r\n            yield put(createToast(\"Success\", response.message.join('')));\r\n        } catch (err) {\r\n            yield put(CHANGE_PASSWORD_RESOURCE.error(err));\r\n            yield put(createToast(\"Error\", err.errors.join('. ')));\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Sends Logout Request\r\n     * @param action \r\n     */\r\n    *logout(action: ReturnType<typeof LOGOUT_RESOURCE.request>): IterableIterator<any> {\r\n        try {\r\n            const response = (yield call(Requests.post, {\r\n                url: `/user/logout`\r\n            }))! as Response;\r\n            yield put(LOGOUT_RESOURCE.response(response));\r\n            if (response.message.includes(\"Logout Successful !!\")) {\r\n                yield put(push('/'));\r\n            }\r\n            yield put(createToast(\"Success\", response.message.join('')));\r\n        } catch (err) {\r\n            yield put(LOGOUT_RESOURCE.error(err));\r\n            yield put(createToast(\"Error\", err.errors.join('. ')));\r\n        }\r\n    }\r\n}","import { call, put } from \"redux-saga/effects\";\r\nimport { push } from \"connected-react-router\";\r\nimport { Resource } from \"../../global/store/request\";\r\nimport { StockSearchPayload, StockInput, StockListResponsePayload, StockDeletePayload } from \"../models/stock\";\r\nimport { ItemRequestState } from \"../../global/model/state\";\r\nimport { SagaBase } from \"../../global/store/saga-base\";\r\nimport { Requests } from \"../../global/requests\";\r\nimport { createToast } from \"../../ui/toast/action\";\r\nimport { Response } from \"../../global/model/response\";\r\nimport { history } from \"../../index\";\r\n\r\nexport const STOCK_SEARCH_RESOURCE = new Resource<StockInput, StockSearchPayload[], ItemRequestState<StockSearchPayload[]>>('/STOCK/SEARCH');\r\nexport const STOCK_ADD_RESOURCE = new Resource<StockSearchPayload, Response, ItemRequestState<Response>>('/STOCK/ADD');\r\nexport const STOCK_DELETE_RESOURCE = new Resource<StockDeletePayload, Response, ItemRequestState<Response>>('/STOCK/DELETE');\r\nexport const STOCK_LIST_RESOURCE = new Resource<null, StockListResponsePayload, ItemRequestState<StockListResponsePayload>>('/STOCK/LIST');\r\n\r\nexport class StocksSaga extends SagaBase {\r\n\r\n    assignment: {\r\n        [actionType: string]: (action: any) => IterableIterator<any>\r\n    } = {\r\n            [STOCK_SEARCH_RESOURCE.requestActionType]: this.searchStock,\r\n            [STOCK_ADD_RESOURCE.requestActionType]: this.addStock,\r\n            [STOCK_DELETE_RESOURCE.requestActionType]: this.deleteStock,\r\n            [STOCK_LIST_RESOURCE.requestActionType]: this.list,\r\n        };\r\n\r\n    /**\r\n     * Sends scraping request\r\n     * @param action \r\n     */\r\n    *searchStock(action: ReturnType<typeof STOCK_SEARCH_RESOURCE.request>): IterableIterator<any> {\r\n        try {\r\n            const response = (yield call(Requests.get, {\r\n                url: '/stock/search',\r\n                payload: action.payload\r\n            }))! as StockSearchPayload[];\r\n            yield put(STOCK_SEARCH_RESOURCE.response(response));\r\n        } catch (err) {\r\n            yield put(STOCK_SEARCH_RESOURCE.error(err));\r\n            if (err.errors.includes(\"User is not authenticated\")) {\r\n                yield put(push('/')); // Redirect to login page\r\n            }\r\n            yield put(createToast(\"Error\", err.errors.join('. ')));\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Sends Stock add request\r\n     * @param action \r\n     */\r\n    *addStock(action: ReturnType<typeof STOCK_ADD_RESOURCE.request>): IterableIterator<any> {\r\n        try {\r\n            const response = (yield call(Requests.post, {\r\n                url: '/stock/add',\r\n                payload: action.payload\r\n            }))! as Response;\r\n            yield put(STOCK_ADD_RESOURCE.response(response));\r\n            yield put(createToast(\"Success\", response.message.join('')));\r\n            setTimeout(() => {\r\n                window.location.reload();\r\n            }, 1000);\r\n        } catch (err) {\r\n            yield put(STOCK_ADD_RESOURCE.error(err));\r\n            if (err.errors.includes(\"User is not authenticated\")) {\r\n                yield put(push('/')); // Redirect to login page\r\n            }\r\n            yield put(createToast(\"Error\", err.errors.join('. ')));\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * Sends Stock delete request\r\n     * @param action \r\n     */\r\n    *deleteStock(action: ReturnType<typeof STOCK_DELETE_RESOURCE.request>): IterableIterator<any> {\r\n        try {\r\n            const response = (yield call(Requests.post, {\r\n                url: '/stock/delete',\r\n                payload: action.payload\r\n            }))! as Response;\r\n            yield put(STOCK_DELETE_RESOURCE.response(response));\r\n            yield put(createToast(\"Success\", response.message.join('')));\r\n            setTimeout(() => {\r\n                window.location.reload();\r\n            }, 1000);\r\n        } catch (err) {\r\n            yield put(STOCK_DELETE_RESOURCE.error(err));\r\n            if (err.errors.includes(\"User is not authenticated\")) {\r\n                yield put(push('/')); // Redirect to login page\r\n            }\r\n            yield put(createToast(\"Error\", err.errors.join('. ')));\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Sends Stock list request\r\n     * @param action \r\n     */\r\n    *list(action: ReturnType<typeof STOCK_LIST_RESOURCE.request>): IterableIterator<any> {\r\n        try {\r\n            const response = (yield call(Requests.get, {\r\n                url: '/stock/list'\r\n            }))! as StockListResponsePayload;\r\n            yield put(STOCK_LIST_RESOURCE.response(response));\r\n            const url = history.location.pathname;\r\n            // Redirect to Stock List page when already logged in and are trying to open login page\r\n            if (url === '/')\r\n                yield put(push('/stockList'));\r\n        } catch (err) {\r\n            yield put(STOCK_LIST_RESOURCE.error(err));\r\n            if (err.errors.includes(\"User is not authenticated\")) {\r\n                yield put(push('/')); // Redirect to login page\r\n            }\r\n            yield put(createToast(\"Error\", err.errors.join('. ')));\r\n        }\r\n    }\r\n}","import React, { useEffect } from 'react';\r\nimport { Formik, Form as FormikForm } from 'formik';\r\nimport { InputField } from \"../../forms/InputField\";\r\nimport { Form } from 'react-bootstrap';\r\nimport { ButtonSpinner } from '../../ui/ButtonSpinner';\r\nimport { LoginValidationSchema } from \"../../utils/validation\";\r\nimport { RouteComponentProps } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { LOGIN_RESOURCE } from '../store/saga';\r\nimport { State } from \"../../root/store/reducer\";\r\nimport { ItemRequestState } from '../../global/model/state';\r\nimport './login.scss';\r\nimport { Response } from '../../global/model/response';\r\nimport { STOCK_LIST_RESOURCE } from '../../stocks/store/saga';\r\n\r\n\r\ninterface loginProps extends RouteComponentProps { }\r\n\r\ninterface LoginFormModel {\r\n    email: string,\r\n    password: string\r\n}\r\n\r\nexport const Login: React.FC<loginProps> = () => {\r\n\r\n    const dispatch = useDispatch();\r\n    const response = useSelector<State, ItemRequestState<Response>>(state => state.user.login);\r\n\r\n    //Redirect to Stock List page when already logged in and not present on Stock list page\r\n    useEffect(() => {\r\n        dispatch(STOCK_LIST_RESOURCE.request(null));\r\n    }, [dispatch])\r\n\r\n    async function onSubmit(user: LoginFormModel) {\r\n        dispatch(LOGIN_RESOURCE.request(user));\r\n    }\r\n\r\n    return (\r\n        <div id=\"cover\" className=\"min-vh-100\">\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-xl-5 col-lg-6 col-md-8 col-sm-10 col-xs-2 mx-auto form p-4\" style={{ zIndex: 1 }}>\r\n                        <Formik<LoginFormModel>\r\n                            initialValues={{\r\n                                email: '',\r\n                                password: ''\r\n                            }}\r\n                            onSubmit={(user) => onSubmit(user)}\r\n                            validationSchema={LoginValidationSchema}\r\n                        >{({ dirty, isValid }) =>\r\n                            <FormikForm>\r\n                                <h4 className='pt-1 pb-3'>Sign In</h4>\r\n\r\n                                <Form.Group controlId=\"email\">\r\n                                    <InputField name=\"email\" type=\"text\" placeholder=\"Enter email address\" autoComplete=\"off\" />\r\n                                </Form.Group>\r\n\r\n                                <Form.Group controlId=\"password\">\r\n                                    <InputField name=\"password\" type=\"password\" placeholder=\"Enter password\" autoComplete=\"off\" />\r\n                                </Form.Group>\r\n\r\n                                <ButtonSpinner\r\n                                    type='submit'\r\n                                    loading={response.loading}\r\n                                    disabled={response.loading || !isValid || !dirty}\r\n                                    loadingText='Logging in..'\r\n                                    staticText=\"Login\"\r\n                                />\r\n\r\n                                <Form.Text>\r\n                                    <div style={{ fontSize: '1.2em' }}>\r\n                                        <div>Don't have an account ?</div>\r\n                                        <a href=\"/signup\">Create one now !</a>\r\n                                    </div>\r\n                                </Form.Text>\r\n                            </FormikForm>\r\n                            }\r\n                        </Formik>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}","import React from 'react';\r\nimport { Formik, Form as FormikForm } from 'formik';\r\nimport { InputField } from \"../../forms/InputField\";\r\nimport { Form } from 'react-bootstrap';\r\nimport { ButtonSpinner } from '../../ui/ButtonSpinner';\r\nimport { SignUpValidationSchema } from \"../../utils/validation\";\r\nimport { RouteComponentProps } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { State } from \"../../root/store/reducer\";\r\nimport { ItemRequestState } from '../../global/model/state';\r\nimport './signup.scss';\r\nimport { Response } from '../../global/model/response';\r\nimport { SIGNUP_RESOURCE } from '../store/saga';\r\n\r\n\r\ninterface signUpProps extends RouteComponentProps { }\r\n\r\ninterface SignupFormModel {\r\n    email: string,\r\n    password: string,\r\n    confirmPassword: string\r\n}\r\n\r\nexport const SignUp: React.FC<signUpProps> = () => {\r\n\r\n    const dispatch = useDispatch();\r\n    const response = useSelector<State, ItemRequestState<Response>>(state => state.user.signup);\r\n\r\n    async function onSubmit(user: SignupFormModel) {\r\n        dispatch(SIGNUP_RESOURCE.request(user));\r\n    }\r\n\r\n    return (\r\n        <div id=\"cover\" className=\"min-vh-100\">\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-xl-5 col-lg-6 col-md-8 col-sm-10 col-xs-2 mx-auto form p-4\" style={{ zIndex: 1 }}>\r\n                        <Formik<SignupFormModel>\r\n                            initialValues={{\r\n                                email: '',\r\n                                password: '',\r\n                                confirmPassword: ''\r\n                            }}\r\n                            onSubmit={(user) => onSubmit(user)}\r\n                            validationSchema={SignUpValidationSchema}\r\n                        >{({ dirty, isValid }) =>\r\n                            <FormikForm>\r\n                                <h4 className='pt-1 pb-3'>Sign up</h4>\r\n\r\n                                <Form.Group controlId=\"email\">\r\n                                    <InputField name=\"email\" type=\"text\" placeholder=\"Enter email address\" autoComplete=\"off\" />\r\n                                </Form.Group>\r\n\r\n                                <Form.Group controlId=\"password\">\r\n                                    <InputField name=\"password\" type=\"password\" placeholder=\"Enter password\" autoComplete=\"off\" />\r\n                                </Form.Group>\r\n\r\n                                <Form.Group controlId=\"confirmPassword\">\r\n                                    <InputField name=\"confirmPassword\" type=\"password\" placeholder=\"Enter password again\" autoComplete=\"off\" />\r\n                                </Form.Group>\r\n\r\n                                <ButtonSpinner\r\n                                    type='submit'\r\n                                    loading={response.loading}\r\n                                    disabled={response.loading || !isValid || !dirty}\r\n                                    loadingText='Creating Account...'\r\n                                    staticText=\"Sign up\"\r\n                                />\r\n\r\n                                <Form.Text>\r\n                                    <div style={{ fontSize: '1.2em' }}>\r\n                                        <div>Already have an account ?</div>\r\n                                        <a href=\"/login\">Click here to login</a>\r\n                                    </div>\r\n                                </Form.Text>\r\n                            </FormikForm>\r\n                            }\r\n                        </Formik>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}","import React, { useEffect } from 'react';\r\nimport { Button, Modal, Form } from 'react-bootstrap';\r\nimport { Formik, Form as FormikForm } from 'formik';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { State } from \"../../root/store/reducer\";\r\nimport { Response } from \"../../global/model/response\";\r\nimport { ItemRequestState } from '../../global/model/state';\r\nimport { CHANGE_PASSWORD_RESOURCE } from '../store/saga';\r\nimport { SettingsValidationSchema } from '../../utils/validation';\r\nimport { InputField } from '../../forms/InputField';\r\nimport { ButtonSpinner } from '../../ui/ButtonSpinner';\r\n\r\n\r\ninterface SettingsModalProps {\r\n    show: boolean,\r\n    onHide: () => void,\r\n}\r\n\r\ninterface SettingsFormModal {\r\n    currentPassword: string,\r\n    newPassword: string,\r\n    confirmPassword: string\r\n}\r\n\r\nexport const SettingsModal: React.FC<SettingsModalProps> = ({ show, onHide }) => {\r\n\r\n    const dispatch = useDispatch();\r\n    const response = useSelector<State, ItemRequestState<Response>>(state => state.user.changePassword);\r\n\r\n    async function onSubmit(user: Pick<SettingsFormModal, \"currentPassword\" | \"newPassword\">) {\r\n        dispatch(CHANGE_PASSWORD_RESOURCE.request(user));\r\n    }\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            dispatch(CHANGE_PASSWORD_RESOURCE.clear())\r\n        }\r\n    }, [dispatch]);\r\n\r\n    useEffect(() => {\r\n        if (!response.loading && (response.data || response.error) && show) {\r\n            onHide();\r\n        }\r\n    }, [response, onHide, show]);\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                show={show}\r\n                onHide={onHide}\r\n                size=\"lg\"\r\n                aria-labelledby=\"contained-modal-title-vcenter\"\r\n                centered\r\n                backdrop=\"static\"\r\n            >\r\n                <Formik<SettingsFormModal>\r\n                    initialValues={{\r\n                        currentPassword: '',\r\n                        newPassword: '',\r\n                        confirmPassword: ''\r\n                    }}\r\n                    onSubmit={(settings) => onSubmit({ currentPassword: settings.currentPassword, newPassword: settings.newPassword })}\r\n                    validationSchema={SettingsValidationSchema}\r\n                >{({ dirty, isValid }) =>\r\n                    <FormikForm>\r\n                        <Modal.Header closeButton>\r\n                            <Modal.Title id=\"contained-modal-title-vcenter\">\r\n                                Change Password\r\n                            </Modal.Title>\r\n                        </Modal.Header>\r\n                        <Modal.Body>\r\n\r\n                            <Form.Group controlId=\"currentPassword\">\r\n                                <Form.Label>Current Password</Form.Label>\r\n                                <InputField name=\"currentPassword\" type=\"password\" placeholder=\"Please enter current password\" autoComplete=\"off\" />\r\n                            </Form.Group>\r\n\r\n                            <Form.Group controlId=\"newPassword\">\r\n                                <Form.Label>New Password</Form.Label>\r\n                                <InputField name=\"newPassword\" type=\"password\" placeholder=\"Please enter new password\" autoComplete=\"off\" />\r\n                            </Form.Group>\r\n\r\n                            <Form.Group controlId=\"confirmPassword\">\r\n                                <Form.Label>Confirm Password</Form.Label>\r\n                                <InputField name=\"confirmPassword\" type=\"password\" placeholder=\"Please enter same password again\" autoComplete=\"off\" />\r\n                            </Form.Group>\r\n\r\n                        </Modal.Body>\r\n                        <Modal.Footer>\r\n                            <ButtonSpinner\r\n                                type='submit'\r\n                                loading={response.loading}\r\n                                disabled={response.loading || !isValid || !dirty}\r\n                                loadingText='Changing..'\r\n                                staticText=\"Submit\"\r\n                            />\r\n                            <Button variant=\"secondary\" onClick={onHide}>Close</Button>\r\n                        </Modal.Footer>\r\n                    </FormikForm>}\r\n                </Formik>\r\n            </Modal>\r\n        </>\r\n    );\r\n}","export default \"data:image/png;base64,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\"","import icon from \"../images/logo96.png\";\r\n\r\nexport async function showNotification(body: string) {\r\n    if ('Notification' in window) {\r\n        const result = await Notification.requestPermission();\r\n        console.log('result', result);\r\n        if (result === 'granted') {\r\n            if ('serviceWorker' in navigator) {\r\n                const swRegistration = await navigator.serviceWorker.ready;\r\n                const options = {\r\n                    body,\r\n                    icon,\r\n                    tag: 'notificationsEnabled',\r\n                    vibrate: [250],\r\n                    renotify: true,\r\n                    badge: icon\r\n                }\r\n                swRegistration.showNotification('Success', options);\r\n            } else {\r\n                console.log('SW not present');\r\n            }\r\n        } else {\r\n            console.log('Not granted');\r\n        }\r\n    }\r\n}","import { call, put } from \"redux-saga/effects\";\r\nimport { push } from \"connected-react-router\";\r\nimport { Resource } from \"../../../global/store/request\";\r\nimport { SubscriptionPayload } from \"../models/subscription\";\r\nimport { Response } from \"../../../global/model/response\";\r\nimport { ItemRequestState } from \"../../../global/model/state\";\r\nimport { SagaBase } from \"../../../global/store/saga-base\";\r\nimport { Requests } from \"../../../global/requests\";\r\nimport { createToast } from \"../../../ui/toast/action\";\r\nimport { showNotification } from \"../../../utils/notifications\";\r\n\r\nexport const SUBSCRIPTION_ADD_RESOURCE = new Resource<SubscriptionPayload, Response, ItemRequestState<Response>>('/SUBSCRIPTION/ADD');\r\n\r\nexport class SubscriptionSaga extends SagaBase {\r\n\r\n    assignment: {\r\n        [actionType: string]: (action: any) => IterableIterator<any>\r\n    } = {\r\n            [SUBSCRIPTION_ADD_RESOURCE.requestActionType]: this.addSubscription\r\n        };\r\n\r\n    /**\r\n     * Sends Subscription add request\r\n     * @param action \r\n     */\r\n    *addSubscription(action: ReturnType<typeof SUBSCRIPTION_ADD_RESOURCE.request>): IterableIterator<any> {\r\n        try {\r\n            const response = (yield call(Requests.post, {\r\n                url: '/subscription/add',\r\n                payload: action.payload\r\n            }))! as Response;\r\n            yield put(SUBSCRIPTION_ADD_RESOURCE.response(response));\r\n            const body = response.message.join('');\r\n            showNotification(body);\r\n            //yield put(createToast(\"Success\", ));\r\n        } catch (err) {\r\n            yield put(SUBSCRIPTION_ADD_RESOURCE.error(err));\r\n            if (err.errors.includes(\"User is not authenticated\")) {\r\n                yield put(push('/')); // Redirect to login page\r\n            }\r\n            yield put(createToast(\"Error\", err.errors.join('. ')));\r\n        }\r\n    }\r\n}","import { push } from 'connected-react-router';\r\nimport React, { useState } from 'react'\r\nimport { Nav, Navbar } from 'react-bootstrap';\r\nimport { useDispatch } from 'react-redux';\r\nimport { createToast } from '../ui/toast/action';\r\nimport { SettingsModal } from '../user/modals/SettingsModal';\r\nimport { LOGOUT_RESOURCE } from '../user/store/saga';\r\nimport { showNotification } from '../utils/notifications';\r\nimport { SUBSCRIPTION_ADD_RESOURCE } from './subscription/store/saga';\r\n\r\ninterface NavigationProps { }\r\n\r\nexport const Navigation: React.FC<NavigationProps> = () => {\r\n    const [settings, setSettings] = useState<boolean>(false);\r\n    const dispatch = useDispatch();\r\n\r\n    function urlBase64ToUint8Array(base64String: string) {\r\n        const padding = '='.repeat((4 - base64String.length % 4) % 4);\r\n        const base64 = (base64String + padding).replace(/\\-/g, '+').replace(/_/g, '/');\r\n\r\n        const rawData = window.atob(base64);\r\n        const outputArray = new Uint8Array(rawData.length);\r\n\r\n        for (let i = 0; i < rawData.length; ++i) {\r\n            outputArray[i] = rawData.charCodeAt(i);\r\n        }\r\n        return outputArray;\r\n    }\r\n\r\n    async function configurePubSub() {\r\n        if (!('serviceWorker' in navigator)) {\r\n            return;\r\n        }\r\n        const swRegistration = await navigator.serviceWorker.ready;\r\n        const subscription = await swRegistration.pushManager.getSubscription();\r\n        const publicKey = process.env.REACT_APP_VAPID_PUBLIC_KEY;\r\n        const convertedVapidKey = urlBase64ToUint8Array(publicKey!);\r\n        if (!subscription) {\r\n            console.log('No subscription present');\r\n            try {\r\n                const newSubscription = await swRegistration.pushManager.subscribe({\r\n                    userVisibleOnly: true,\r\n                    applicationServerKey: convertedVapidKey\r\n                });\r\n                const subscriptionJSON = newSubscription.toJSON();\r\n                dispatch(SUBSCRIPTION_ADD_RESOURCE.request({\r\n                    endpoint: subscriptionJSON.endpoint!,\r\n                    keys: {\r\n                        auth: subscriptionJSON.keys!.auth,\r\n                        p256dh: subscriptionJSON.keys!.p256dh\r\n                    }\r\n                }));\r\n            } catch (err) {\r\n                dispatch(createToast(\"Error\", \"You have denied notification alerts. Please enable them from browser settings\"));\r\n            }\r\n        } else {\r\n            // Subscription already present on this device, so no need to register again\r\n            showNotification(\"You are already subscribed to notification services\");\r\n            console.log('Subscription already present');\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Navbar bg=\"dark\" variant=\"dark\" fixed=\"top\" expand=\"md\">\r\n                <Navbar.Brand href=\"#home\">Alertify</Navbar.Brand>\r\n                <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n                <Navbar.Collapse id=\"basic-navbar-nav\">\r\n                    <Nav className=\"ml-auto\">\r\n                        <Nav.Link href=\"#home\" onClick={() => dispatch(push('/stockList'))}>Home</Nav.Link>\r\n                        <Nav.Link href=\"#notifications\" onClick={configurePubSub}>Enable Notification Alerts</Nav.Link>\r\n                        <Nav.Link href=\"#alerts\" onClick={() => dispatch(push('/triggerList'))}>Manage Alerts</Nav.Link>\r\n                        <Nav.Link href=\"#portfolio\" onClick={() => dispatch(push('/portfolio'))}>Portfolio</Nav.Link>\r\n                        <Nav.Link href=\"#settings\" onClick={() => setSettings(true)}>Settings</Nav.Link>\r\n                        <Nav.Link href=\"#logout\" onClick={() => dispatch(LOGOUT_RESOURCE.request(null))} >Log out</Nav.Link>\r\n                    </Nav>\r\n                </Navbar.Collapse>\r\n            </Navbar>\r\n            {settings && <SettingsModal show={settings} onHide={() => { setSettings(false) }} />}\r\n        </>\r\n    );\r\n}","import React, { useState } from 'react'\r\nimport { ListGroup } from 'react-bootstrap';\r\nimport { Form } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { State } from \"../root/store/reducer\";\r\nimport './search-stocks.scss';\r\nimport { ItemRequestState } from '../global/model/state';\r\nimport { StockSearchPayload } from './models/stock';\r\nimport { STOCK_ADD_RESOURCE, STOCK_SEARCH_RESOURCE } from './store/saga';\r\n\r\ninterface StockSearchProps {\r\n\r\n}\r\n\r\nexport const StockSearch: React.FC<StockSearchProps> = (props) => {\r\n\r\n    const dispatch = useDispatch();\r\n    const response = useSelector<State, ItemRequestState<StockSearchPayload[]>>(state => state.stocks.search);\r\n    const [searched, setSearched] = useState<string | undefined>(undefined);\r\n\r\n    function onChangeHandler(event: React.ChangeEvent<HTMLInputElement>) {\r\n        const value = event.target.value;\r\n        if (value.length > 2) {\r\n            setSearched(value);\r\n            dispatch(STOCK_SEARCH_RESOURCE.request({ stockName: value }));\r\n        } else {\r\n            setSearched(undefined);\r\n        }\r\n    }\r\n\r\n    function submitStock(symbol: string, name: string) {\r\n        dispatch(STOCK_ADD_RESOURCE.request({ symbol, name }));\r\n        setSearched(undefined);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Form.Control name='stock' placeholder='Search stocks' autoComplete='off' size=\"lg\" onChange={onChangeHandler} />\r\n            {\r\n                !response.loading && response.data && searched && searched.length > 2 &&\r\n                <ListGroup className='search-stocks-list'>\r\n                    {response.data.map(stock =>\r\n                        <div onClick={submitStock.bind(null, stock.symbol, stock.name)}>\r\n                            <ListGroup.Item>{stock.name}</ListGroup.Item>\r\n                        </div>)}\r\n                </ListGroup>\r\n            }\r\n        </>\r\n    );\r\n}","import React, { useMemo } from 'react'\r\nimport { Card } from 'react-bootstrap';\r\nimport { StockResponsePayload } from './models/stock';\r\nimport './stock.scss';\r\n\r\ninterface StockProps extends StockResponsePayload {\r\n    symbol: string,\r\n    setAddTrigger: React.Dispatch<React.SetStateAction<{\r\n        symbol: string;\r\n        name: string;\r\n    } | null>>\r\n    setDeleteStock: React.Dispatch<React.SetStateAction<{\r\n        symbol: string;\r\n        name: string;\r\n    } | null>>,\r\n    setAddHolding: React.Dispatch<React.SetStateAction<{\r\n        symbol: string;\r\n        name: string;\r\n    } | null>>,\r\n    setDeleteHolding: React.Dispatch<React.SetStateAction<{\r\n        symbol: string;\r\n        name: string;\r\n    } | null>>,\r\n    error?: string\r\n}\r\n\r\nexport const Stock: React.FC<StockProps> = ({ setAddTrigger, setDeleteStock, setAddHolding, setDeleteHolding, ...stock }) => {\r\n\r\n    const computed = useMemo(() => {\r\n        const price = stock.close || stock.lastPrice;\r\n        const change = price - stock.previousClose;\r\n        const pChange = (change / stock.previousClose) * 100;\r\n        return {\r\n            price,\r\n            change,\r\n            pChange\r\n        }\r\n    }, [stock.previousClose, stock.close, stock.lastPrice]);\r\n\r\n    return (\r\n        !stock.error ? <Card style={{ minWidth: '18rem' }} className='h-100'>\r\n            <Card.Header>\r\n                <div className='d-flex justify-content-between'>\r\n                    <span><b>{stock.symbol}</b></span>\r\n                    <div className='d-inline-flex justify-content-end'>\r\n                        <span className=\"material-icons mr-2\" style={{ cursor: 'pointer' }} onClick={() => setAddHolding({ symbol: stock.symbol, name: stock.name })}>add_box</span>\r\n                        <span className=\"material-icons mr-2\" style={{ cursor: 'pointer' }} onClick={() => setDeleteHolding({ symbol: stock.symbol, name: stock.name })}>remove_circle</span>\r\n                        <span className=\"material-icons mr-2\" style={{ cursor: 'pointer' }} onClick={() => setAddTrigger({ symbol: stock.symbol, name: stock.name })}>add_alert</span>\r\n                        <span className=\"material-icons\" style={{ cursor: 'pointer' }} onClick={() => setDeleteStock({ symbol: stock.symbol, name: stock.name })}>delete</span>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className='d-flex '></div>\r\n            </Card.Header>\r\n            <Card.Body className='d-flex flex-column justify-content-end'>\r\n                <Card.Title>{stock.name}</Card.Title>\r\n                <Card.Text className='mt-2'>\r\n                    <h5>Price: {computed.price} <span className={stock.change >= 0 ? 'color-green' : 'color-red'}>{computed.change > 0 ?\r\n                        \"+\".concat(computed.change.toFixed(2).toString()).concat(` (+${computed.pChange.toFixed(2)}%)`)\r\n                        : computed.change.toFixed(2).toString().concat(` (${computed.pChange.toFixed(2)}%)`)}</span></h5>\r\n                    Open: {stock.open} <br />\r\n                    Close: {stock.close} <br />\r\n                    Previous Close: {stock.previousClose} <br />\r\n                    Lower CP: {stock.lowerCP} <br />\r\n                    Upper CP: {stock.upperCP} <br />\r\n                    Intraday Low: {stock.intraDayHighLow.min} <br />\r\n                    Intraday High: {stock.intraDayHighLow.max} <br />\r\n                </Card.Text>\r\n            </Card.Body>\r\n        </Card> : null);\r\n}","import React, { ComponentType } from 'react';\r\nimport { Field, FieldProps } from 'formik';\r\nimport { Form } from 'react-bootstrap';\r\n\r\ninterface SelectFieldProps {\r\n    size?: 'sm' | 'lg';\r\n    readOnly?: boolean;\r\n    disabled?: boolean;\r\n    type?: string,\r\n    className?: string,\r\n    autocomplete?: 'on' | 'off';\r\n    options: {\r\n        key: string,\r\n        value: string\r\n    }[],\r\n    name: string,\r\n    placeholder?: string\r\n}\r\n\r\n/**\r\n * Props adapter\r\n * @param WrappedComponent\r\n */\r\nconst selectFieldAdapter = (\r\n    /**\r\n     * input control component\r\n     */\r\n    WrappedComponent: ComponentType<any>\r\n) => (\r\n    props: FieldProps<string> & SelectFieldProps\r\n) => {\r\n        const { field, form, meta, options, ...rest } = props;\r\n        return (\r\n            <WrappedComponent as=\"select\" {...field}\r\n                onChange={((val: any) => {\r\n                    form.setFieldValue(field.name, val.target.value, true)\r\n                })}\r\n                {...rest}\r\n            >\r\n                {options.map(opt => <option value={opt.key}>{opt.value}</option>)}\r\n            </WrappedComponent>\r\n        );\r\n    };\r\n\r\nconst SelectAdapted = selectFieldAdapter(Form.Control);\r\n\r\n\r\nexport const SelectField: React.FC<SelectFieldProps> = ({ ...props }) => {\r\n\r\n    return (\r\n        <Field\r\n            {...props}\r\n            component={SelectAdapted}\r\n        />\r\n    );\r\n}","import { call, put } from \"redux-saga/effects\";\r\nimport { push } from \"connected-react-router\";\r\nimport { Resource } from \"../../global/store/request\";\r\nimport { ItemRequestState } from \"../../global/model/state\";\r\nimport { SagaBase } from \"../../global/store/saga-base\";\r\nimport { Requests } from \"../../global/requests\";\r\nimport { createToast } from \"../../ui/toast/action\";\r\nimport { Response } from \"../../global/model/response\";\r\nimport { AddTriggerModel, DeleteTriggerModel, UpdateTriggerModel, TriggerResponsePayload, DeleteAllTriggerModel } from \"../models/trigger\";\r\n\r\nexport const GET_TRIGGER_RESOURCE = new Resource<null, TriggerResponsePayload[], ItemRequestState<TriggerResponsePayload[]>>('/TRIGGER/LIST');\r\nexport const ADD_TRIGGER_RESOURCE = new Resource<AddTriggerModel, Response, ItemRequestState<Response>>('/TRIGGER/ADD');\r\nexport const UPDATE_TRIGGER_RESOURCE = new Resource<UpdateTriggerModel, Response, ItemRequestState<Response>>('/TRIGGER/UPDATE');\r\nexport const DELETE_TRIGGER_RESOURCE = new Resource<DeleteTriggerModel, Response, ItemRequestState<Response>>('/TRIGGER/DELETE');\r\nexport const DELETE_TRIGGER_ALL_RESOURCE = new Resource<DeleteAllTriggerModel, Response, ItemRequestState<Response>>('/TRIGGER/DELETE/All');\r\n\r\nexport class TriggersSaga extends SagaBase {\r\n\r\n    assignment: {\r\n        [actionType: string]: (action: any) => IterableIterator<any>\r\n    } = {\r\n            [GET_TRIGGER_RESOURCE.requestActionType]: this.getTriggers,\r\n            [ADD_TRIGGER_RESOURCE.requestActionType]: this.addTrigger,\r\n            [UPDATE_TRIGGER_RESOURCE.requestActionType]: this.updateTrigger,\r\n            [DELETE_TRIGGER_RESOURCE.requestActionType]: this.deleteTrigger,\r\n            [DELETE_TRIGGER_ALL_RESOURCE.requestActionType]: this.deleteAllTrigger\r\n        };\r\n\r\n\r\n    /**\r\n     * Gets all triggers for the current user\r\n     * @param action \r\n     */\r\n    *getTriggers(action: ReturnType<typeof GET_TRIGGER_RESOURCE.request>): IterableIterator<any> {\r\n        try {\r\n            const response = (yield call(Requests.get, {\r\n                url: '/trigger/list'\r\n            }))! as TriggerResponsePayload[];\r\n            yield put(GET_TRIGGER_RESOURCE.response(response));\r\n        } catch (err) {\r\n            yield put(GET_TRIGGER_RESOURCE.error(err));\r\n            if (err.errors.includes(\"User is not authenticated\")) {\r\n                yield put(push('/')); // Redirect to login page\r\n            }\r\n            yield put(createToast(\"Error\", err.errors.join('. ')));\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * Sends Add Trigger Request\r\n     * @param action \r\n     */\r\n    *addTrigger(action: ReturnType<typeof ADD_TRIGGER_RESOURCE.request>): IterableIterator<any> {\r\n        try {\r\n            const response = (yield call(Requests.post, {\r\n                url: '/trigger/add',\r\n                payload: action.payload\r\n            }))! as Response;\r\n            yield put(ADD_TRIGGER_RESOURCE.response(response));\r\n            yield put(createToast(\"Success\", response.message.join('')));\r\n        } catch (err) {\r\n            yield put(ADD_TRIGGER_RESOURCE.error(err));\r\n            if (err.errors.includes(\"User is not authenticated\")) {\r\n                yield put(push('/')); // Redirect to login page\r\n            }\r\n            yield put(createToast(\"Error\", err.errors.join('. ')));\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Sends Update Trigger Request\r\n     * @param action \r\n     */\r\n    *updateTrigger(action: ReturnType<typeof UPDATE_TRIGGER_RESOURCE.request>): IterableIterator<any> {\r\n        try {\r\n            const response = (yield call(Requests.put, {\r\n                url: '/trigger/update',\r\n                payload: action.payload\r\n            }))! as Response;\r\n            yield put(UPDATE_TRIGGER_RESOURCE.response(response));\r\n            yield put(createToast(\"Success\", response.message.join('')));\r\n            setTimeout(() => {\r\n                window.location.reload();\r\n            }, 1000);\r\n        } catch (err) {\r\n            yield put(UPDATE_TRIGGER_RESOURCE.error(err));\r\n            if (err.errors.includes(\"User is not authenticated\")) {\r\n                yield put(push('/')); // Redirect to login page\r\n            }\r\n            yield put(createToast(\"Error\", err.errors.join('. ')));\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Sends Delete Trigger Request\r\n     * @param action \r\n     */\r\n    *deleteTrigger(action: ReturnType<typeof DELETE_TRIGGER_RESOURCE.request>): IterableIterator<any> {\r\n        try {\r\n            const response = (yield call(Requests.delete, {\r\n                url: '/trigger/delete',\r\n                payload: action.payload\r\n            }))! as Response;\r\n            yield put(DELETE_TRIGGER_RESOURCE.response(response));\r\n            yield put(createToast(\"Success\", response.message.join('')));\r\n            setTimeout(() => {\r\n                window.location.reload();\r\n            }, 1000);\r\n        } catch (err) {\r\n            yield put(DELETE_TRIGGER_RESOURCE.error(err));\r\n            if (err.errors.includes(\"User is not authenticated\")) {\r\n                yield put(push('/')); // Redirect to login page\r\n            }\r\n            yield put(createToast(\"Error\", err.errors.join('. ')));\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Sends Delete All Trigger Request\r\n     * @param action \r\n     */\r\n    *deleteAllTrigger(action: ReturnType<typeof DELETE_TRIGGER_ALL_RESOURCE.request>): IterableIterator<any> {\r\n        try {\r\n            const response = (yield call(Requests.delete, {\r\n                url: '/trigger/delete/all',\r\n                payload: action.payload\r\n            }))! as Response;\r\n            yield put(DELETE_TRIGGER_ALL_RESOURCE.response(response));\r\n            yield put(createToast(\"Success\", response.message.join('')));\r\n            setTimeout(() => {\r\n                window.location.reload();\r\n            }, 1000);\r\n        } catch (err) {\r\n            yield put(DELETE_TRIGGER_ALL_RESOURCE.error(err));\r\n            if (err.errors.includes(\"User is not authenticated\")) {\r\n                yield put(push('/')); // Redirect to login page\r\n            }\r\n            yield put(createToast(\"Error\", err.errors.join('. ')));\r\n        }\r\n    }\r\n}","import React, { useEffect } from 'react'\r\nimport { Formik, Form as FormikForm } from 'formik';\r\nimport { Button, Modal, Form } from 'react-bootstrap';\r\nimport { InputField } from '../../forms/InputField';\r\nimport { SelectField } from '../../forms/SelectField';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { State } from \"../../root/store/reducer\";\r\nimport { ItemRequestState } from '../../global/model/state';\r\nimport { ButtonSpinner } from '../../ui/ButtonSpinner';\r\nimport { AddTriggerValidationSchema } from \"../../utils/validation\";\r\nimport { Response } from \"../../global/model/response\";\r\nimport { AddTriggerModel } from '../../triggers/models/trigger';\r\nimport { ADD_TRIGGER_RESOURCE } from '../../triggers/store/saga';\r\ninterface AddTriggerModalProps {\r\n    show: boolean,\r\n    onHide: () => void,\r\n    name: string,\r\n    symbol: string\r\n}\r\n\r\ntype AddTriggerFormModal = Pick<AddTriggerModel, \"price\" | \"type\">\r\n\r\n\r\nexport const AddTriggerModal: React.FC<AddTriggerModalProps> = ({ show, onHide, name, symbol }) => {\r\n\r\n    const dispatch = useDispatch();\r\n    const response = useSelector<State, ItemRequestState<Response>>(state => state.triggers.add)\r\n\r\n    async function onSubmit(trigger: AddTriggerFormModal) {\r\n        dispatch(ADD_TRIGGER_RESOURCE.request({\r\n            ...trigger,\r\n            price: parseFloat(trigger.price.toString().trim()),\r\n            symbol\r\n        }));\r\n    }\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            dispatch(ADD_TRIGGER_RESOURCE.clear())\r\n        }\r\n    }, [dispatch])\r\n\r\n    useEffect(() => {\r\n        if (!response.loading && (response.data || response.error) && show) {\r\n            onHide();\r\n        }\r\n    }, [response, show, onHide]);\r\n\r\n    return (\r\n        <Modal\r\n            show={show}\r\n            onHide={onHide}\r\n            size=\"lg\"\r\n            aria-labelledby=\"contained-modal-title-vcenter\"\r\n            centered\r\n            backdrop=\"static\"\r\n        >\r\n            <Formik<AddTriggerFormModal>\r\n                initialValues={{\r\n                    type: 'gte',\r\n                    price: 0\r\n                }}\r\n                onSubmit={(trigger) => onSubmit(trigger)}\r\n                validationSchema={AddTriggerValidationSchema}\r\n            >{({ dirty, isValid }) =>\r\n                <FormikForm>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title id=\"contained-modal-title-vcenter\">\r\n                            Add Price Alert\r\n                        </Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n\r\n                        <h5 className='mb-4'>{name}</h5>\r\n\r\n                        <Form.Group controlId=\"type\">\r\n                            <Form.Label>Select Type</Form.Label>\r\n                            <SelectField options={[{ key: 'lte', value: 'Less Than equal to' }, { key: 'gte', value: 'Greater than equal to' }]} name=\"type\" type=\"select\" placeholder=\"Select Trigger Type\" />\r\n                        </Form.Group>\r\n\r\n                        <Form.Group controlId=\"price\">\r\n                            <Form.Label>Cut Off Price</Form.Label>\r\n                            <InputField name=\"price\" type=\"text\" placeholder=\"Enter Cut Off Price\" autoComplete=\"off\" />\r\n                        </Form.Group>\r\n\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <ButtonSpinner\r\n                            type='submit'\r\n                            loading={response.loading}\r\n                            disabled={response.loading || !isValid || !dirty}\r\n                            loadingText=\"Loading...\"\r\n                            staticText=\"Add Trigger\"\r\n                        />\r\n                        <Button variant=\"secondary\" onClick={onHide}>Close</Button>\r\n                    </Modal.Footer>\r\n                </FormikForm>}\r\n            </Formik>\r\n        </Modal>\r\n    );\r\n}","import React, { useEffect } from 'react';\r\nimport { Button, Modal, Spinner } from 'react-bootstrap';\r\nimport { State } from \"../../root/store/reducer\";\r\nimport { ItemRequestState } from '../../global/model/state';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { STOCK_DELETE_RESOURCE } from '../store/saga';\r\nimport { Response } from \"../../global/model/response\";\r\n\r\ninterface DeleteStockModalProps {\r\n    show: boolean,\r\n    onHide: () => void,\r\n    name: string,\r\n    symbol: string\r\n}\r\n\r\nexport const DeleteStockModal: React.FC<DeleteStockModalProps> = ({ name, symbol, show, onHide }) => {\r\n\r\n    const dispatch = useDispatch();\r\n    const response = useSelector<State, ItemRequestState<Response>>(state => state.stocks.delete);\r\n\r\n    async function onSubmit() {\r\n        dispatch(STOCK_DELETE_RESOURCE.request({\r\n            symbol\r\n        }));\r\n    }\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            dispatch(STOCK_DELETE_RESOURCE.clear())\r\n        }\r\n    }, [dispatch]);\r\n\r\n    useEffect(() => {\r\n        if (!response.loading && (response.data || response.error)) {\r\n            onHide();\r\n        }\r\n    }, [response, onHide]);\r\n\r\n    return (\r\n\r\n        <Modal\r\n            show={show}\r\n            onHide={onHide}\r\n            size=\"lg\"\r\n            aria-labelledby=\"contained-modal-title-vcenter\"\r\n            centered\r\n        >\r\n            <Modal.Header closeButton>\r\n                <Modal.Title id=\"contained-modal-title-vcenter\">\r\n                    {name}\r\n                </Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <h5>Are you sure, you want to remove this stock from watchlist ?</h5>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <Button variant=\"danger\" type=\"submit\" disabled={response.loading} onClick={onSubmit}>\r\n                    <Spinner\r\n                        as=\"span\"\r\n                        animation=\"border\"\r\n                        size=\"sm\"\r\n                        role=\"status\"\r\n                        aria-hidden=\"true\"\r\n                        className={response.loading ? 'd-inline-block' : 'd-none'}\r\n                    />\r\n                    <span className={response.loading ? 'ml-3 d-inline-block' : 'd-none'}>Loading...</span>\r\n                    <span className={!response.loading ? 'd-inline-block' : 'd-none'}>Yes, I confirm</span>\r\n                </Button>\r\n                <Button variant=\"primary\" onClick={onHide}>No</Button>\r\n            </Modal.Footer>\r\n\r\n        </Modal>\r\n\r\n    );\r\n}","import React from 'react'\r\nimport { WaveSpinner, MetroSpinner } from \"react-spinners-kit\";\r\n\r\ninterface SpinnerProps {\r\n    size: number;\r\n    loading: boolean;\r\n    color: string\r\n    text: string,\r\n    type: 'wave' | 'metro'\r\n}\r\n\r\nexport const Spinner: React.FC<SpinnerProps> = ({ size, loading, color, text, type }) => {\r\n    return (\r\n        <div style={{ height: '70vh' }} className={loading ? 'd-flex justify-content-center align-items-center flex-column' : 'd-none'}>\r\n            {type === 'wave' ? <WaveSpinner size={size} color={color} loading={loading} /> : <MetroSpinner size={size} color={color} loading={loading} />}\r\n            <div className={loading ? 'mt-2' : 'd-none'}>\r\n                <h5 className=\"text-center\"> {text}</h5>\r\n            </div>\r\n        </div>\r\n\r\n    );\r\n}","\r\nimport React from \"react\";\r\n\r\nexport interface Global {\r\n    interval: NodeJS.Timeout | null,\r\n    portfolioInterval: NodeJS.Timeout | null,\r\n}\r\n\r\nexport interface InitialState {\r\n    global: Global\r\n}\r\n\r\nexport interface UpdateIntervalKey {\r\n    type: 'UPDATE_INTERVAL_KEY',\r\n    payload: { interval: NodeJS.Timeout | null }\r\n}\r\n\r\nexport interface UpdatePortfolioIntervalKey {\r\n    type: 'UPDATE_PORTFOLIO_INTERVAL_KEY',\r\n    payload: { portfolioInterval: NodeJS.Timeout | null }\r\n}\r\n\r\nexport type Action = UpdateIntervalKey | UpdatePortfolioIntervalKey;\r\n\r\nexport interface GlobalState extends InitialState {\r\n    dispatch?: React.Dispatch<Action>\r\n}\r\n\r\nexport const initialState: InitialState = {\r\n    global: {\r\n        interval: null,\r\n        portfolioInterval: null\r\n    }\r\n}\r\n\r\nexport function reducer(state = initialState, action: Action): InitialState {\r\n    switch (action.type) {\r\n        case 'UPDATE_INTERVAL_KEY':\r\n            return {\r\n                ...state,\r\n                global: { ...state.global, ...action.payload }\r\n            }\r\n        case 'UPDATE_PORTFOLIO_INTERVAL_KEY':\r\n            return {\r\n                ...state,\r\n                global: {\r\n                    ...state.global,\r\n                    ...action.payload\r\n                }\r\n            }\r\n        default:\r\n            return initialState;\r\n    }\r\n}\r\n\r\nexport const GlobalContext = React.createContext<GlobalState>(initialState);","import { call, put } from \"redux-saga/effects\";\r\nimport { push } from \"connected-react-router\";\r\nimport { Resource } from \"../../global/store/request\";\r\nimport { ItemRequestState } from \"../../global/model/state\";\r\nimport { SagaBase } from \"../../global/store/saga-base\";\r\nimport { Requests } from \"../../global/requests\";\r\nimport { createToast } from \"../../ui/toast/action\";\r\nimport { Response } from \"../../global/model/response\";\r\nimport { AddHolding, DeleteHolding, HoldingListResponsePayload } from \"../models/holding\";\r\n\r\nexport const HOLDING_ADD_RESOURCE = new Resource<AddHolding, Response, ItemRequestState<Response>>('/HOLDING/ADD');\r\nexport const HOLDING_DELETE_RESOURCE = new Resource<DeleteHolding, Response, ItemRequestState<Response>>('/HOLDING/DELETE');\r\nexport const HOLDING_LIST_RESOURCE = new Resource<null, HoldingListResponsePayload, ItemRequestState<HoldingListResponsePayload>>('/HOLDING/LIST');\r\n\r\nexport class PortfolioSaga extends SagaBase {\r\n\r\n    assignment: {\r\n        [actionType: string]: (action: any) => IterableIterator<any>\r\n    } = {\r\n            [HOLDING_ADD_RESOURCE.requestActionType]: this.addHolding,\r\n            [HOLDING_DELETE_RESOURCE.requestActionType]: this.deleteHolding,\r\n            [HOLDING_LIST_RESOURCE.requestActionType]: this.list,\r\n        };\r\n\r\n    /**\r\n     * Sends holding add request\r\n     * @param action \r\n     */\r\n    *addHolding(action: ReturnType<typeof HOLDING_ADD_RESOURCE.request>): IterableIterator<any> {\r\n        try {\r\n            const response = (yield call(Requests.post, {\r\n                url: '/holding/add',\r\n                payload: action.payload\r\n            }))! as Response;\r\n            yield put(HOLDING_ADD_RESOURCE.response(response));\r\n            yield put(createToast(\"Success\", response.message.join('')));\r\n        } catch (err) {\r\n            yield put(HOLDING_ADD_RESOURCE.error(err));\r\n            if (err.errors.includes(\"User is not authenticated\")) {\r\n                yield put(push('/')); // Redirect to login page\r\n            }\r\n            yield put(createToast(\"Error\", err.errors.join('. ')));\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * Sends Stock delete request\r\n     * @param action \r\n     */\r\n    *deleteHolding(action: ReturnType<typeof HOLDING_DELETE_RESOURCE.request>): IterableIterator<any> {\r\n        try {\r\n            const response = (yield call(Requests.post, {\r\n                url: '/holding/delete',\r\n                payload: action.payload\r\n            }))! as Response;\r\n            yield put(HOLDING_DELETE_RESOURCE.response(response));\r\n            yield put(createToast(\"Success\", response.message.join('')));\r\n        } catch (err) {\r\n            yield put(HOLDING_DELETE_RESOURCE.error(err));\r\n            if (err.errors.includes(\"User is not authenticated\")) {\r\n                yield put(push('/')); // Redirect to login page\r\n            }\r\n            yield put(createToast(\"Error\", err.errors.join('. ')));\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Sends Stock list request\r\n     * @param action \r\n     */\r\n    *list(action: ReturnType<typeof HOLDING_LIST_RESOURCE.request>): IterableIterator<any> {\r\n        try {\r\n            const response = (yield call(Requests.get, {\r\n                url: '/holding/list'\r\n            }))! as HoldingListResponsePayload;\r\n            yield put(HOLDING_LIST_RESOURCE.response(response));\r\n        } catch (err) {\r\n            yield put(HOLDING_LIST_RESOURCE.error(err));\r\n            if (err.errors.includes(\"User is not authenticated\")) {\r\n                yield put(push('/')); // Redirect to login page\r\n            }\r\n            yield put(createToast(\"Error\", err.errors.join('. ')));\r\n        }\r\n    }\r\n}","import React, { useEffect } from 'react'\r\nimport { Formik, Form as FormikForm } from 'formik';\r\nimport { Button, Modal, Form } from 'react-bootstrap';\r\nimport { InputField } from '../../forms/InputField';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { State } from \"../../root/store/reducer\";\r\nimport { ItemRequestState } from '../../global/model/state';\r\nimport { ButtonSpinner } from '../../ui/ButtonSpinner';\r\nimport { AddHoldingValidationSchema } from \"../../utils/validation\";\r\nimport { Response } from \"../../global/model/response\";\r\nimport { HOLDING_ADD_RESOURCE } from '../store/saga';\r\n\r\ninterface AddHoldingModalProps {\r\n    show: boolean,\r\n    onHide: () => void,\r\n    name: string,\r\n    symbol: string\r\n}\r\n\r\ninterface AddHoldingFormModal {\r\n    price: number;\r\n    quantity: number;\r\n}\r\n\r\n\r\nexport const AddHoldingModal: React.FC<AddHoldingModalProps> = ({ show, onHide, name, symbol }) => {\r\n\r\n    const dispatch = useDispatch();\r\n    const response = useSelector<State, ItemRequestState<Response>>(state => state.portfolio.add)\r\n\r\n    async function onSubmit(holding: AddHoldingFormModal) {\r\n        dispatch(HOLDING_ADD_RESOURCE.request({\r\n            ...holding,\r\n            quantity: parseInt(holding.quantity.toString()),\r\n            price: parseFloat(holding.price.toString().trim()),\r\n            symbol\r\n        }));\r\n    }\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            dispatch(HOLDING_ADD_RESOURCE.clear())\r\n        }\r\n    }, [dispatch])\r\n\r\n    useEffect(() => {\r\n        if (!response.loading && (response.data || response.error) && show) {\r\n            onHide();\r\n        }\r\n    }, [response, show, onHide]);\r\n\r\n    return (\r\n        <Modal\r\n            show={show}\r\n            onHide={onHide}\r\n            size=\"lg\"\r\n            aria-labelledby=\"contained-modal-title-vcenter\"\r\n            centered\r\n            backdrop=\"static\"\r\n        >\r\n            <Formik<AddHoldingFormModal>\r\n                initialValues={{\r\n                    quantity: 0,\r\n                    price: 0\r\n                }}\r\n                onSubmit={(holding) => onSubmit(holding)}\r\n                validationSchema={AddHoldingValidationSchema}\r\n            >{({ dirty, isValid }) =>\r\n                <FormikForm>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title id=\"contained-modal-title-vcenter\">\r\n                            Add Stock Holding\r\n                        </Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n\r\n                        <h5 className='mb-4'>{name}</h5>\r\n\r\n                        <Form.Group controlId=\"quantity\">\r\n                            <Form.Label>Quantity</Form.Label>\r\n                            <InputField name=\"quantity\" type=\"number\" placeholder=\"Enter Stock Quantity\" autoComplete=\"off\" />\r\n                        </Form.Group>\r\n\r\n                        <Form.Group controlId=\"price\">\r\n                            <Form.Label>Price</Form.Label>\r\n                            <InputField name=\"price\" type=\"number\" placeholder=\"Enter Price\" autoComplete=\"off\" />\r\n                        </Form.Group>\r\n\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <ButtonSpinner\r\n                            type='submit'\r\n                            loading={response.loading}\r\n                            disabled={response.loading || !isValid || !dirty}\r\n                            loadingText=\"Loading...\"\r\n                            staticText=\"Add Stock\"\r\n                        />\r\n                        <Button variant=\"secondary\" onClick={onHide}>Close</Button>\r\n                    </Modal.Footer>\r\n                </FormikForm>}\r\n            </Formik>\r\n        </Modal>\r\n    );\r\n}","import React, { useEffect } from 'react'\r\nimport { Formik, Form as FormikForm } from 'formik';\r\nimport { Button, Modal, Form } from 'react-bootstrap';\r\nimport { InputField } from '../../forms/InputField';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { State } from \"../../root/store/reducer\";\r\nimport { ItemRequestState } from '../../global/model/state';\r\nimport { ButtonSpinner } from '../../ui/ButtonSpinner';\r\nimport { DeleteHoldingValidationSchema } from \"../../utils/validation\";\r\nimport { Response } from \"../../global/model/response\";\r\nimport { HOLDING_DELETE_RESOURCE } from '../store/saga';\r\n\r\ninterface DeleteHoldingModalProps {\r\n    show: boolean,\r\n    onHide: () => void,\r\n    name: string,\r\n    symbol: string\r\n}\r\n\r\ninterface DeleteHoldingFormModal {\r\n    quantity: number;\r\n}\r\n\r\n\r\nexport const DeleteHoldingModal: React.FC<DeleteHoldingModalProps> = ({ show, onHide, name, symbol }) => {\r\n\r\n    const dispatch = useDispatch();\r\n    const response = useSelector<State, ItemRequestState<Response>>(state => state.portfolio.delete)\r\n\r\n    async function onSubmit(holding: DeleteHoldingFormModal) {\r\n        dispatch(HOLDING_DELETE_RESOURCE.request({\r\n            quantity: parseInt(holding.quantity.toString()),\r\n            symbol\r\n        }));\r\n    }\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            dispatch(HOLDING_DELETE_RESOURCE.clear())\r\n        }\r\n    }, [dispatch])\r\n\r\n    useEffect(() => {\r\n        if (!response.loading && (response.data || response.error) && show) {\r\n            onHide();\r\n        }\r\n    }, [response, show, onHide]);\r\n\r\n    return (\r\n        <Modal\r\n            show={show}\r\n            onHide={onHide}\r\n            size=\"lg\"\r\n            aria-labelledby=\"contained-modal-title-vcenter\"\r\n            centered\r\n            backdrop=\"static\"\r\n        >\r\n            <Formik<DeleteHoldingFormModal>\r\n                initialValues={{\r\n                    quantity: 0\r\n                }}\r\n                onSubmit={(holding) => onSubmit(holding)}\r\n                validationSchema={DeleteHoldingValidationSchema}\r\n            >{({ dirty, isValid }) =>\r\n                <FormikForm>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title id=\"contained-modal-title-vcenter\">\r\n                            Delete Stock Holding\r\n                        </Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n\r\n                        <h5 className='mb-4'>{name}</h5>\r\n\r\n                        <Form.Group controlId=\"quantity\">\r\n                            <Form.Label>Quantity</Form.Label>\r\n                            <InputField name=\"quantity\" type=\"number\" placeholder=\"Enter Stock Quantity\" autoComplete=\"off\" />\r\n                        </Form.Group>\r\n\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <ButtonSpinner\r\n                            type='submit'\r\n                            loading={response.loading}\r\n                            disabled={response.loading || !isValid || !dirty}\r\n                            loadingText=\"Loading...\"\r\n                            staticText=\"Delete Stock\"\r\n                        />\r\n                        <Button variant=\"secondary\" onClick={onHide}>Close</Button>\r\n                    </Modal.Footer>\r\n                </FormikForm>}\r\n            </Formik>\r\n        </Modal>\r\n    );\r\n}","import React, { useContext, useEffect, useState } from 'react'\r\nimport { CardDeck, Col, Container } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Navigation } from '../Navbar/Navigation'\r\nimport { State } from \"../root/store/reducer\";\r\nimport { ItemRequestState } from '../global/model/state';\r\nimport { StockSearch } from './StockSearch';\r\nimport { STOCK_LIST_RESOURCE } from './store/saga';\r\nimport { StockListResponsePayload } from './models/stock';\r\nimport { Stock } from './Stock';\r\nimport { AddTriggerModal } from './modals/AddTriggerModal';\r\nimport { DeleteStockModal } from './modals/DeleteStockModal';\r\nimport { Spinner } from '../ui/Spinner';\r\nimport { GlobalContext } from '../global/context';\r\nimport { AddHoldingModal } from '../portfolio/modals/AddHoldingModal';\r\nimport { DeleteHoldingModal } from '../portfolio/modals/DeleteHoldingModal';\r\n\r\n\r\ninterface stockListProps {\r\n\r\n}\r\n\r\nexport const StockList: React.FC<stockListProps> = (props) => {\r\n\r\n    const dispatch = useDispatch();\r\n    const response = useSelector<State, ItemRequestState<StockListResponsePayload>>(state => state.stocks.list);\r\n    const [addTrigger, setAddTrigger] = useState<{ symbol: string, name: string } | null>(null);\r\n    const [addHolding, setAddHolding] = useState<{ symbol: string, name: string } | null>(null);\r\n    const [deleteStock, setDeleteStock] = useState<{ symbol: string, name: string } | null>(null);\r\n    const [deleteHolding, setDeleteHolding] = useState<{ symbol: string, name: string } | null>(null);\r\n    const context = useContext(GlobalContext);\r\n\r\n    useEffect(() => {\r\n        dispatch(STOCK_LIST_RESOURCE.request(null));\r\n    }, [dispatch]);\r\n\r\n    // Clear intervals when unmounting component\r\n    useEffect(() => {\r\n        return () => {\r\n            if (context.global.interval) {\r\n                clearInterval(context.global.interval);\r\n                context.dispatch!({\r\n                    type: \"UPDATE_INTERVAL_KEY\", payload: {\r\n                        interval: null\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }, [context.dispatch, context.global.interval])\r\n\r\n    useEffect(() => {\r\n        if (response?.data?.isMarketOpen) {\r\n            const isOpen = (response.data.isMarketOpen.open) as any as boolean;\r\n            const change = response.data.isMarketOpen.change;\r\n            if (isOpen) {\r\n                if (!context.global.interval) {\r\n                    const key = setInterval(() => {\r\n                        dispatch(STOCK_LIST_RESOURCE.request(null));\r\n                    }, change);\r\n                    context.dispatch!({\r\n                        type: \"UPDATE_INTERVAL_KEY\", payload: {\r\n                            interval: key\r\n                        }\r\n                    });\r\n                }\r\n            } else {\r\n                if (context.global.interval) {\r\n                    clearInterval(context.global.interval);\r\n                    context.dispatch!({\r\n                        type: \"UPDATE_INTERVAL_KEY\", payload: {\r\n                            interval: null\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    }, [response?.data?.isMarketOpen, context.dispatch, context.global.interval, dispatch]);\r\n\r\n    return (\r\n        <>\r\n            <Navigation />\r\n            <Container>\r\n                <div className='mb-4' style={{ marginTop: '5rem' }}>\r\n                    <h1 className='mb-3'>Stock Watch List</h1>\r\n                    <StockSearch />\r\n                    {response.data &&\r\n                        <CardDeck>\r\n                            {Object.keys(response.data).map(symbol =>\r\n                                symbol !== \"isMarketOpen\" ? <Col lg=\"4\" className='mt-4' key={symbol}>\r\n                                    <Stock symbol={symbol} {...response!.data![symbol]} setAddTrigger={setAddTrigger} setDeleteStock={setDeleteStock} setAddHolding={setAddHolding} setDeleteHolding={setDeleteHolding} />\r\n                                </Col> : null\r\n                            )}\r\n                        </CardDeck>\r\n                    }\r\n                </div>\r\n            </Container>\r\n            {/* Display Spinner only during the first load */}\r\n            <Spinner loading={response.loading && !response.data ? true : false} type='wave' color='#000' size={120} text='Loading your stocks watchlist. Please wait...' />\r\n            {addTrigger && <AddTriggerModal\r\n                show={addTrigger ? true : false}\r\n                name={addTrigger ? addTrigger.name : ''}\r\n                symbol={addTrigger ? addTrigger.symbol : ''}\r\n                onHide={() => setAddTrigger(null)} />}\r\n            {deleteStock && <DeleteStockModal\r\n                show={deleteStock ? true : false}\r\n                name={deleteStock ? deleteStock.name : ''}\r\n                symbol={deleteStock ? deleteStock.symbol : ''}\r\n                onHide={() => setDeleteStock(null)} />}\r\n            {addHolding && <AddHoldingModal\r\n                show={addHolding ? true : false}\r\n                name={addHolding ? addHolding.name : ''}\r\n                symbol={addHolding ? addHolding.symbol : ''}\r\n                onHide={() => setAddHolding(null)} />}\r\n            {deleteHolding && <DeleteHoldingModal\r\n                show={deleteHolding ? true : false}\r\n                name={deleteHolding ? deleteHolding.name : ''}\r\n                symbol={deleteHolding ? deleteHolding.symbol : ''}\r\n                onHide={() => setDeleteHolding(null)} />}\r\n        </>\r\n    );\r\n}","import React from 'react'\r\nimport { Button } from 'react-bootstrap';\r\nimport { TriggerResponsePayload } from './models/trigger';\r\n\r\ninterface TriggerProps extends TriggerResponsePayload {\r\n    sno: number,\r\n    setDeleteTrigger: React.Dispatch<React.SetStateAction<{\r\n        symbol: string;\r\n        id: string;\r\n    } | null>>,\r\n    setEditTrigger: React.Dispatch<React.SetStateAction<{\r\n        id: string;\r\n        symbol: string;\r\n        type: 'gte' | 'lte';\r\n        price: number;\r\n    } | null>>\r\n}\r\n\r\n\r\nexport const Trigger: React.FC<TriggerProps> = ({ sno, id, symbol, type, price, isTriggered, triggeredAt, setDeleteTrigger, setEditTrigger }) => {\r\n    const formatedTrigger = triggeredAt ? new Date(triggeredAt) : null;\r\n    return (\r\n        <tr>\r\n            <td>{sno}</td>\r\n            <td>{symbol}</td>\r\n            <td>{type === 'lte' ? \"Less Than\" : \"Geater Than\"}</td>\r\n            <td>{price}</td>\r\n            <td>{isTriggered ? `${formatedTrigger!.toLocaleDateString()} ${formatedTrigger!.toLocaleTimeString()}` : \"No\"}</td>\r\n            <td>\r\n                <div className='d-inline'>\r\n                    <Button className='mr-2' variant=\"light\" disabled={isTriggered} onClick={() => setEditTrigger({ id, symbol, type, price })}>Update</Button>\r\n                    <Button variant=\"danger\" onClick={() => setDeleteTrigger({ id, symbol })}>Delete</Button>\r\n                </div>\r\n            </td>\r\n        </tr>\r\n    );\r\n}","import React, { useEffect } from 'react';\r\nimport { Button, Modal, Spinner } from 'react-bootstrap';\r\nimport { ItemRequestState } from '../../global/model/state';\r\nimport { useDispatch } from 'react-redux';\r\nimport { DELETE_TRIGGER_ALL_RESOURCE, DELETE_TRIGGER_RESOURCE } from '../store/saga';\r\nimport { Response } from \"../../global/model/response\";\r\nimport { DeleteAllTriggerModel, DeleteTriggerModel } from '../models/trigger';\r\n\r\ninterface DeleteTriggerModalProps {\r\n    show: boolean,\r\n    onHide: () => void,\r\n    symbol?: string,\r\n    text: string,\r\n    type: 'single' | 'multiple',\r\n    payload: DeleteTriggerModel | DeleteAllTriggerModel,\r\n    response: ItemRequestState<Response>\r\n}\r\n\r\nexport const DeleteTriggerModal: React.FC<DeleteTriggerModalProps> = ({ symbol, show, onHide, text, type, payload, response }) => {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    async function onSubmit() {\r\n        if (type === 'single' && \"id\" in payload) {\r\n            dispatch(DELETE_TRIGGER_RESOURCE.request({\r\n                ...payload\r\n            }));\r\n        } else {\r\n            if (\"onlyTriggered\" in payload) {\r\n                dispatch(DELETE_TRIGGER_ALL_RESOURCE.request({\r\n                    ...payload\r\n                }));\r\n            }\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            if (type === 'single')\r\n                dispatch(DELETE_TRIGGER_RESOURCE.clear());\r\n            else\r\n                dispatch(DELETE_TRIGGER_ALL_RESOURCE.clear());\r\n        }\r\n    }, [dispatch, type]);\r\n\r\n    useEffect(() => {\r\n        if (!response.loading && (response.data || response.error)) {\r\n            onHide();\r\n        }\r\n    }, [response, onHide]);\r\n\r\n    return (\r\n\r\n        <Modal\r\n            show={show}\r\n            onHide={onHide}\r\n            size=\"lg\"\r\n            aria-labelledby=\"contained-modal-title-vcenter\"\r\n            centered\r\n        >\r\n            <Modal.Header closeButton>\r\n                <Modal.Title id=\"contained-modal-title-vcenter\">\r\n                    {symbol || \"Delete Alerts\"}\r\n                </Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <h5>{text}</h5>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <Button variant=\"danger\" type=\"submit\" disabled={response.loading} onClick={onSubmit}>\r\n                    <Spinner\r\n                        as=\"span\"\r\n                        animation=\"border\"\r\n                        size=\"sm\"\r\n                        role=\"status\"\r\n                        aria-hidden=\"true\"\r\n                        className={response.loading ? 'd-inline-block' : 'd-none'}\r\n                    />\r\n                    <span className={response.loading ? 'ml-3 d-inline-block' : 'd-none'}>Loading...</span>\r\n                    <span className={!response.loading ? 'd-inline-block' : 'd-none'}>Yes, I confirm</span>\r\n                </Button>\r\n                <Button variant=\"primary\" onClick={onHide}>No</Button>\r\n            </Modal.Footer>\r\n\r\n        </Modal>\r\n\r\n    );\r\n}","import React, { useEffect } from 'react'\r\nimport { Formik, Form as FormikForm } from 'formik';\r\nimport { Button, Modal, Form } from 'react-bootstrap';\r\nimport { InputField } from '../../forms/InputField';\r\nimport { SelectField } from '../../forms/SelectField';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { State } from \"../../root/store/reducer\";\r\nimport { ItemRequestState } from '../../global/model/state';\r\nimport { ButtonSpinner } from '../../ui/ButtonSpinner';\r\nimport { AddTriggerValidationSchema } from \"../../utils/validation\";\r\nimport { Response } from \"../../global/model/response\";\r\nimport { AddTriggerModel } from '../../triggers/models/trigger';\r\nimport { UPDATE_TRIGGER_RESOURCE } from '../../triggers/store/saga';\r\n\r\ninterface EditTriggerModalProps {\r\n    id: string,\r\n    show: boolean,\r\n    onHide: () => void,\r\n    symbol: string,\r\n    type: 'gte' | 'lte',\r\n    price: number\r\n}\r\n\r\ntype AddTriggerFormModal = Pick<AddTriggerModel, \"price\" | \"type\">\r\n\r\nexport const EditTriggerModal: React.FC<EditTriggerModalProps> = ({ id, show, onHide, symbol, type, price }) => {\r\n\r\n    const dispatch = useDispatch();\r\n    const response = useSelector<State, ItemRequestState<Response>>(state => state.triggers.update)\r\n\r\n    async function onSubmit(trigger: AddTriggerFormModal) {\r\n        dispatch(UPDATE_TRIGGER_RESOURCE.request({\r\n            ...trigger,\r\n            price: parseFloat(trigger.price.toString().trim()),\r\n            id\r\n        }));\r\n    }\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            dispatch(UPDATE_TRIGGER_RESOURCE.clear())\r\n        }\r\n    }, [dispatch])\r\n\r\n    useEffect(() => {\r\n        if (!response.loading && (response.data || response.error) && show) {\r\n            onHide();\r\n        }\r\n    }, [response, show, onHide]);\r\n\r\n    return (\r\n        <Modal\r\n            show={show}\r\n            onHide={onHide}\r\n            size=\"lg\"\r\n            aria-labelledby=\"contained-modal-title-vcenter\"\r\n            centered\r\n            backdrop=\"static\"\r\n        >\r\n            <Formik<AddTriggerFormModal>\r\n                initialValues={{\r\n                    type,\r\n                    price\r\n                }}\r\n                onSubmit={(trigger) => onSubmit(trigger)}\r\n                validationSchema={AddTriggerValidationSchema}\r\n\r\n            >{({ dirty, isValid }) =>\r\n                <FormikForm>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title id=\"contained-modal-title-vcenter\">\r\n                            Update Price Alert\r\n                        </Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n\r\n                        <h5 className='mb-4'>{symbol}</h5>\r\n\r\n                        <Form.Group controlId=\"type\">\r\n                            <Form.Label>Select Type</Form.Label>\r\n                            <SelectField options={[{ key: 'lte', value: 'Less Than equal to' }, { key: 'gte', value: 'Greater than equal to' }]} name=\"type\" type=\"select\" placeholder=\"Select Trigger Type\" />\r\n                        </Form.Group>\r\n\r\n                        <Form.Group controlId=\"price\">\r\n                            <Form.Label>Cut Off Price</Form.Label>\r\n                            <InputField name=\"price\" type=\"text\" placeholder=\"Enter Cut Off Price\" autoComplete=\"off\" />\r\n                        </Form.Group>\r\n\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <ButtonSpinner\r\n                            type='submit'\r\n                            loading={response.loading}\r\n                            disabled={response.loading || !isValid || !dirty}\r\n                            loadingText=\"Loading...\"\r\n                            staticText=\"Update Trigger\"\r\n                        />\r\n                        <Button variant=\"secondary\" onClick={onHide}>Close</Button>\r\n                    </Modal.Footer>\r\n                </FormikForm>}\r\n            </Formik>\r\n        </Modal>\r\n    );\r\n}","import React, { useState } from 'react'\r\nimport { Button } from 'react-bootstrap';\r\nimport { useSelector } from 'react-redux';\r\nimport { DeleteTriggerModal } from './modals/DeleteTriggerModal';\r\nimport { State } from \"../root/store/reducer\";\r\nimport { ItemRequestState } from '../global/model/state';\r\nimport { Response } from \"../global/model/response\";\r\n\r\ninterface DeleteAllTriggersProps {\r\n\r\n}\r\n\r\nexport const DeleteAllTriggers: React.FC<DeleteAllTriggersProps> = (props) => {\r\n\r\n    const [deleteState, setDeleteState] = useState<{ onlyTriggered: boolean } | null>(null);\r\n    const response = useSelector<State, ItemRequestState<Response>>(state => state.triggers.deleteAll);\r\n\r\n    return (\r\n        <>\r\n            <div className='d-flex justify-content-center mb-3'>\r\n                <Button className='mr-2' variant=\"danger\" onClick={() => setDeleteState({ onlyTriggered: false })}>Delete All</Button>\r\n                <Button variant=\"info\" onClick={() => setDeleteState({ onlyTriggered: true })}>Delete Only Triggered</Button>\r\n            </div>\r\n            {deleteState &&\r\n                <DeleteTriggerModal\r\n                    type='multiple'\r\n                    show={true}\r\n                    onHide={() => setDeleteState(null)}\r\n                    payload={{ onlyTriggered: deleteState.onlyTriggered }}\r\n                    text={deleteState.onlyTriggered ? \"Are you sure you want to delete all triggered alerts ?\" : \"Are you sure you want to delete all alerts ?\"}\r\n                    response={response}\r\n                />}\r\n        </>\r\n    );\r\n}","import React, { useEffect, useState } from 'react'\r\nimport { Container, Table } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Navigation } from '../Navbar/Navigation'\r\nimport { State } from \"../root/store/reducer\";\r\nimport { ItemRequestState } from '../global/model/state';\r\nimport { TriggerResponsePayload } from './models/trigger';\r\nimport { GET_TRIGGER_RESOURCE } from './store/saga';\r\nimport { Trigger } from './Trigger';\r\nimport { DeleteTriggerModal } from './modals/DeleteTriggerModal';\r\nimport { EditTriggerModal } from './modals/EditTriggerModal';\r\nimport { Spinner } from '../ui/Spinner';\r\nimport { DeleteAllTriggers } from './DeleteAllTriggers';\r\nimport { Response } from \"../global/model/response\";\r\n\r\ninterface TriggerListProps {\r\n\r\n}\r\n\r\nexport const TriggerList: React.FC<TriggerListProps> = (props) => {\r\n\r\n    const dispatch = useDispatch();\r\n    const response = useSelector<State, ItemRequestState<TriggerResponsePayload[]>>(state => state.triggers.list);\r\n    const [deleteTrigger, setDeleteTrigger] = useState<{ id: string, symbol: string } | null>(null);\r\n    const [editTrigger, setEditTrigger] = useState<{ id: string, symbol: string, type: 'gte' | 'lte', price: number } | null>(null);\r\n    const deleteResponse = useSelector<State, ItemRequestState<Response>>(state => state.triggers.delete);\r\n\r\n    useEffect(() => {\r\n        dispatch(GET_TRIGGER_RESOURCE.request(null));\r\n    }, [dispatch]);\r\n\r\n    return (\r\n        <>\r\n            <Navigation />\r\n            <Container>\r\n                <div className='mb-4' style={{ marginTop: '5rem' }}>\r\n                    <h1 className='mb-3'>Manage Alerts</h1>\r\n                    {response.data ?\r\n                        response.data.length > 0 ?\r\n                            <Table responsive=\"lg\" striped bordered hover variant=\"dark\" size=\"lg\">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th>#</th>\r\n                                        <th>Stock</th>\r\n                                        <th>Type</th>\r\n                                        <th>Price</th>\r\n                                        <th>Is Triggered</th>\r\n                                        <th>Action</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {response.data.map((trigger, index) => <Trigger key={index} setDeleteTrigger={setDeleteTrigger} setEditTrigger={setEditTrigger} sno={index + 1} {...trigger} />)}\r\n                                </tbody>\r\n                            </Table>\r\n                            :\r\n                            <h3 className='mt-3'>You haven't set any alerts !!</h3>\r\n                        : null}\r\n                </div>\r\n            </Container>\r\n            <Spinner loading={response.loading && !response.data ? true : false} type='metro' color='#000' size={120} text='Loading your alerts. Please wait...' />\r\n            {deleteTrigger && <DeleteTriggerModal\r\n                show={true}\r\n                onHide={() => setDeleteTrigger(null)}\r\n                type='single'\r\n                text=\"Are you sure, you want to remove this alert ?\"\r\n                payload={{ id: deleteTrigger.id }}\r\n                symbol={deleteTrigger.symbol}\r\n                response={deleteResponse}\r\n            />}\r\n            {editTrigger && <EditTriggerModal\r\n                show={true}\r\n                onHide={() => setEditTrigger(null)}\r\n                {...editTrigger} />}\r\n            {response.data && response.data.length > 0 && <DeleteAllTriggers />}\r\n        </>\r\n    );\r\n}","export interface DeleteHolding {\r\n    symbol: string;\r\n    quantity: number\r\n}\r\n\r\nexport interface AddHolding extends DeleteHolding {\r\n    price: number;\r\n}\r\n\r\nexport interface HoldingListPayload {\r\n    symbol: string,\r\n    quantity: number,\r\n    totalInvested: number,\r\n    avgPrice: number,\r\n    currentPrice: number,\r\n    change: number,\r\n    pChange: number,\r\n    profit: number,\r\n    profitChange: number\r\n}\r\n\r\nexport interface MarketOpen {\r\n    open: boolean,\r\n    change: number\r\n}\r\n\r\nexport interface Total {\r\n    totalInvested: number,\r\n    totalCurrentValue: number,\r\n    totalProfit: number,\r\n    totalProfitChange: number\r\n}\r\n\r\nexport interface Today {\r\n    todayProfit: number,\r\n    todayProfitChange: number\r\n}\r\n\r\nexport interface HoldingListResponsePayload {\r\n    [key: string]: HoldingListPayload | MarketOpen | Total | Today,\r\n}\r\n\r\nexport function isMarketOpenPayload(obj: HoldingListPayload | MarketOpen | Total | Today): obj is MarketOpen {\r\n    if (\"open\" in obj)\r\n        return true;\r\n    return false;\r\n}\r\n\r\nexport function isHoldingListPayload(obj: HoldingListPayload | MarketOpen | Total | Today): obj is HoldingListPayload {\r\n    if (\"symbol\" in obj)\r\n        return true;\r\n    return false;\r\n}\r\n\r\nexport function isTotalsPayload(obj: HoldingListPayload | MarketOpen | Total | Today): obj is Total {\r\n    if (\"totalProfit\" in obj)\r\n        return true;\r\n    return false;\r\n}\r\n\r\nexport function isTodaysPayload(obj: HoldingListPayload | MarketOpen | Total | Today): obj is Today {\r\n    if (\"todayProfit\" in obj)\r\n        return true;\r\n    return false;\r\n}","import React from 'react'\r\nimport { Card } from 'react-bootstrap';\r\nimport { HoldingListPayload } from \"./models/holding\";\r\n\r\ninterface HoldingProps extends HoldingListPayload { }\r\n\r\nexport const Holding: React.FC<HoldingProps> = ({ symbol, quantity, totalInvested, avgPrice, currentPrice, pChange, profit, profitChange }) => {\r\n    return (\r\n        <Card body>\r\n            <div className='d-flex'>\r\n                <div className='w-50'>\r\n                    <div>\r\n                        <Card.Subtitle style={{ color: '#aaa', fontSize: '0.8rem' }} className='font-weight-bold'><span className='mr-2'> {quantity} Qty</span><span>Avg: {avgPrice}</span></Card.Subtitle>\r\n                    </div>\r\n                    <div className='my-2'>\r\n                        <Card.Title>{symbol}</Card.Title>\r\n                    </div>\r\n                    <div>\r\n                        <Card.Subtitle style={{ fontSize: '0.8rem' }}>Invested {totalInvested.toFixed(2)}</Card.Subtitle>\r\n                    </div>\r\n                </div>\r\n                <div className='w-50 d-flex justify-content-end'>\r\n                    <div style={{ marginTop: '-.35rem' }}>\r\n                        <div style={{ marginTop: '-.20rem', fontSize: '0.8rem' }} className={profitChange >= 0 ? 'color-green text-right' : 'color-red text-right'}>{profitChange >= 0 ? `+${profitChange.toFixed(2)}` : profitChange.toFixed(2)}%</div>\r\n                        <div className={profit >= 0 ? 'color-green text-right my-1' : 'color-red text-right my-1'}>{profit >= 0 ? `+${profit.toFixed(2)}` : profit.toFixed(2)}</div>\r\n                        <div style={{ fontSize: '0.8rem' }}><Card.Subtitle style={{ display: 'inline-block', fontSize: '0.8rem' }}>LTP {currentPrice.toFixed(2)}</Card.Subtitle><span className={pChange >= 0 ? 'color-green' : 'color-red'}> ({pChange >= 0 ? `+${pChange.toFixed(2)}` : pChange.toFixed(2)}%)</span></div>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        </Card>\r\n    );\r\n}","import React from 'react'\r\nimport { Card } from 'react-bootstrap';\r\nimport { Total } from \"./models/holding\"\r\nimport './Header.scss';\r\n\r\ninterface HeaderProps extends Total { }\r\n\r\nexport const Header: React.FC<HeaderProps> = ({ totalInvested = 0, totalCurrentValue = 0, totalProfit = 0, totalProfitChange = 0 }) => {\r\n    return (\r\n        <Card body className='mb-1' text={'white'} style={{ background: '#356693' }}>\r\n            <div className='d-flex'>\r\n                <div className='w-50 text-center'>\r\n                    <div>\r\n                        <Card.Subtitle style={{ color: '#ddd' }}>Invested</Card.Subtitle>\r\n                    </div>\r\n                    <div className='my-2'>\r\n                        <Card.Title>{totalInvested.toFixed(2)}</Card.Title>\r\n                    </div>\r\n                </div>\r\n                <div className='w-50 d-flex justify-content-center'>\r\n                    <div>\r\n                        <div>\r\n                            <Card.Subtitle style={{ color: '#ddd' }}>Current</Card.Subtitle>\r\n                        </div>\r\n                        <div className='my-2'>\r\n                            <Card.Title>{totalCurrentValue.toFixed(2)}</Card.Title>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <hr className='header-hr' />\r\n            <div className='d-flex'>\r\n                <div className='w-50 text-center'>\r\n                    <div>\r\n                        <Card.Subtitle style={{ color: '#ddd', fontSize: '1.25rem' }}>P&amp;L</Card.Subtitle>\r\n                    </div>\r\n                </div>\r\n                <div className='w-50 d-flex justify-content-center'>\r\n                    <div style={{ marginTop: '-.4rem' }}>\r\n                        <Card.Title style={{ display: 'inline' }} className={totalProfit >= 0 ? 'color-green' : 'color-red'}>{totalProfit >= 0 ? `+${totalProfit.toFixed(2)}` : totalProfit.toFixed(2)} </Card.Title>\r\n                        <span style={{ fontSize: '0.8rem' }} className={totalProfitChange >= 0 ? 'color-green' : 'color-red'}>{totalProfitChange >= 0 ? `+${totalProfitChange.toFixed(2)}` : totalProfitChange.toFixed(2)}% </span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Card>\r\n    );\r\n}","import React from 'react'\r\nimport { Card } from 'react-bootstrap';\r\nimport { Today } from \"./models/holding\";\r\n\r\ninterface FooterProps extends Today { }\r\n\r\nexport const Footer: React.FC<FooterProps> = ({ todayProfit = 0, todayProfitChange = 0 }) => {\r\n    return (\r\n        <Card body className='my-1' text={'white'} style={{ background: '#356693' }}>\r\n            <div className='d-flex'>\r\n                <div className='w-50'>\r\n                    Today's P&amp;L\r\n                </div>\r\n                <div className='w-50 text-right font-weight-bold'>\r\n                    <span className={todayProfit >= 0 ? 'color-green' : 'color-red'}>{todayProfit >= 0 ? `+${todayProfit.toFixed(2)}` : todayProfit.toFixed(2)} {todayProfitChange >= 0 ? `+${todayProfitChange.toFixed(2)}` : todayProfitChange.toFixed(2)}%</span>\r\n                </div>\r\n            </div>\r\n        </Card>);\r\n}","import React, { useContext, useEffect } from 'react'\r\nimport { Container } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Navigation } from '../Navbar/Navigation'\r\nimport { State } from \"../root/store/reducer\";\r\nimport { ItemRequestState } from '../global/model/state';\r\nimport { Spinner } from '../ui/Spinner';\r\nimport { GlobalContext } from '../global/context';\r\nimport { HoldingListResponsePayload, isHoldingListPayload, isMarketOpenPayload, isTodaysPayload, isTotalsPayload } from './models/holding';\r\nimport { HOLDING_LIST_RESOURCE } from './store/saga';\r\nimport { Holding } from './Holding';\r\nimport { Header } from './Header';\r\nimport { Footer } from './Footer';\r\n\r\ninterface holdingListProps { }\r\n\r\nexport const HoldingList: React.FC<holdingListProps> = (props) => {\r\n\r\n    const dispatch = useDispatch();\r\n    const response = useSelector<State, ItemRequestState<HoldingListResponsePayload>>(state => state.portfolio.list);\r\n    const context = useContext(GlobalContext);\r\n\r\n    useEffect(() => {\r\n        dispatch(HOLDING_LIST_RESOURCE.request(null));\r\n    }, [dispatch]);\r\n\r\n    // Clear intervals when unmounting component\r\n    useEffect(() => {\r\n        return () => {\r\n            if (context.global.portfolioInterval) {\r\n                clearInterval(context.global.portfolioInterval);\r\n                context.dispatch!({\r\n                    type: \"UPDATE_PORTFOLIO_INTERVAL_KEY\", payload: {\r\n                        portfolioInterval: null\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }, [context.dispatch, context.global.portfolioInterval])\r\n\r\n    useEffect(() => {\r\n        if (response?.data) {\r\n            const marketOpen = Object.values(response.data).find(value => isMarketOpenPayload(value))\r\n            if (marketOpen && isMarketOpenPayload(marketOpen)) {\r\n                const isOpen = marketOpen.open;\r\n                const change = marketOpen.change;\r\n                if (isOpen) {\r\n                    if (!context.global.portfolioInterval) {\r\n                        const key = setInterval(() => {\r\n                            dispatch(HOLDING_LIST_RESOURCE.request(null));\r\n                        }, change);\r\n                        context.dispatch!({\r\n                            type: \"UPDATE_PORTFOLIO_INTERVAL_KEY\", payload: {\r\n                                portfolioInterval: key\r\n                            }\r\n                        });\r\n                    }\r\n                } else {\r\n                    if (context.global.portfolioInterval) {\r\n                        clearInterval(context.global.portfolioInterval);\r\n                        context.dispatch!({\r\n                            type: \"UPDATE_PORTFOLIO_INTERVAL_KEY\", payload: {\r\n                                portfolioInterval: null\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }, [response?.data, context.dispatch, context.global.portfolioInterval, dispatch]);\r\n\r\n    return (\r\n        <>\r\n            <Navigation />\r\n            <Container>\r\n                <div className='mb-4' style={{ marginTop: '5rem' }}>\r\n                    <h1 className='mb-3'>Portfolio</h1>\r\n                    {response.data && Object.keys(response.data).map((symbol, index) => {\r\n                        const holding = response.data![symbol];\r\n                        if (isTotalsPayload(holding))\r\n                            return <Header {...holding} key={index} />\r\n                        else\r\n                            return null;\r\n                    })}\r\n                    {response.data && Object.keys(response.data).map((symbol, index) => {\r\n                        const holding = response.data![symbol];\r\n                        if (isHoldingListPayload(holding))\r\n                            return <Holding {...holding} key={index} />\r\n                        else\r\n                            return null;\r\n                    })}\r\n                    {response.data && Object.keys(response.data).map((symbol, index) => {\r\n                        const holding = response.data![symbol];\r\n                        if (isTodaysPayload(holding))\r\n                            return <Footer {...holding} key={index} />\r\n                        else\r\n                            return null;\r\n                    })}\r\n                </div>\r\n            </Container>\r\n            {/* Display Spinner only during the first load */}\r\n            <Spinner loading={response.loading && !response.data ? true : false} type='wave' color='#000' size={120} text='Loading your portfolio. Please wait...' />\r\n        </>\r\n    );\r\n}","import React, { useReducer } from 'react';\nimport './App.scss';\nimport { Toast } from \"./ui/toast/toast\";\nimport { Switch, Route } from 'react-router-dom';\nimport { Login } from './user/login/login';\nimport { SignUp } from \"./user/signup/signup\";\nimport { StockList } from './stocks/stockList';\nimport { TriggerList } from './triggers/triggerList';\nimport { HoldingList } from \"./portfolio/holdingList\";\nimport { GlobalContext as Context, reducer, initialState } from \"./global/context\";\n\nfunction App() {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  return (\n    <Context.Provider value={{ ...state, dispatch }}>\n      <Toast />\n      <Switch>\n        <Route path='/signup' component={SignUp} />\n        <Route path='/stockList' component={StockList} />\n        <Route path='/triggerList' component={TriggerList} />\n        <Route path='/portfolio' component={HoldingList} />\n        <Route path='/' component={Login} />\n      </Switch>\n    </Context.Provider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { Action, AnyAction, Reducer } from \"redux\";\r\n\r\nexport type SimplifiedReducer<State, Action> = (state: State, action: Action) => State;\r\nexport type SimplifiedReducersMapObject<S> = { [key in keyof S]: SimplifiedReducer<S[key], any> };\r\n\r\n/**\r\n * A wrapper to handle undefined state for a SimplifiedReducer, so that it matches standard redux's Reducer\r\n * @param reducer\r\n * @param initialState\r\n */\r\nexport function handleUndefinedState<State, Action extends AnyAction>(\r\n    reducer: SimplifiedReducer<State, Action>,\r\n    initialState: State\r\n): Reducer<State, Action> {\r\n    return (state: State | undefined, action: Action) => {\r\n        if (!state) {\r\n            return initialState;\r\n        }\r\n        return reducer(state, action);\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * This combines simplified reducers like the normal combine method to another simplified reducer\r\n * @param reducers\r\n */\r\nexport function combineSimplyfiedReducers<S, A extends Action<any>>(\r\n    reducers: SimplifiedReducersMapObject<Partial<S>>\r\n): SimplifiedReducer<S, A> {\r\n    return (state: S, action: A) => ({\r\n        ...state,\r\n        ...Object.keys(reducers).reduce<{ [key: string]: any }>((acc, key: string) => {\r\n            acc[key] = reducers[key as keyof S](state[key as keyof S], action);\r\n            return acc;\r\n        }, {}) as SimplifiedReducersMapObject<S>\r\n    });\r\n}\r\n\r\n/**\r\n * Add reducers to make both operate on the same store key\r\n * @param reducers\r\n */\r\nexport function addReducers<S, A extends Action<any>>(reducers: SimplifiedReducer<S, A>[]): SimplifiedReducer<S, A> {\r\n    return reducers.reduce((prev: SimplifiedReducer<S, A>, reducer: SimplifiedReducer<S, A>) => {\r\n        return (state: S, action: A) => reducer(prev(state, action), action);\r\n    }, (state: S, action: A) => state);\r\n}\r\n","import { CHANGE_PASSWORD_RESOURCE, LOGIN_RESOURCE, LOGOUT_RESOURCE, SIGNUP_RESOURCE } from \"./saga\";\r\nimport { ItemRequestState } from \"../../global/model/state\";\r\nimport { getResourceInitialState, } from \"../../global/store/request\";\r\nimport { handleUndefinedState, addReducers, combineSimplyfiedReducers } from \"../../global/store/reducer\";\r\nimport { AnyAction } from \"redux\"\r\nimport { Response } from \"../../global/model/response\";\r\n\r\n\r\nexport interface State {\r\n    login: ItemRequestState<Response>;\r\n    signup: ItemRequestState<Response>;\r\n    changePassword: ItemRequestState<Response>;\r\n    logout: ItemRequestState<Response>\r\n}\r\n\r\nexport const initialState: State = {\r\n    login: getResourceInitialState(null),\r\n    signup: getResourceInitialState(null),\r\n    changePassword: getResourceInitialState(null),\r\n    logout: getResourceInitialState(null)\r\n};\r\n\r\nexport const reducer = handleUndefinedState(\r\n    addReducers([\r\n        combineSimplyfiedReducers<State, AnyAction>({\r\n            // @ts-ignore\r\n            login: LOGIN_RESOURCE.reducer,\r\n            // @ts-ignore\r\n            signup: SIGNUP_RESOURCE.reducer,\r\n            // @ts-ignore\r\n            changePassword: CHANGE_PASSWORD_RESOURCE.reducer,\r\n            // @ts-ignore\r\n            logout: LOGOUT_RESOURCE.reducer,\r\n        })\r\n    ]),\r\n    initialState\r\n);","import { AnyAction } from \"redux\"\r\nimport { Response } from \"../../global/model/response\";\r\nimport { ItemRequestState } from \"../../global/model/state\";\r\nimport { addReducers, combineSimplyfiedReducers, handleUndefinedState } from \"../../global/store/reducer\";\r\nimport { getResourceInitialState } from \"../../global/store/request\";\r\nimport { StockListResponsePayload, StockSearchPayload } from \"../models/stock\";\r\nimport { STOCK_SEARCH_RESOURCE, STOCK_ADD_RESOURCE, STOCK_LIST_RESOURCE, STOCK_DELETE_RESOURCE } from \"./saga\";\r\n\r\n\r\nexport interface State {\r\n    search: ItemRequestState<StockSearchPayload[]>;\r\n    add: ItemRequestState<Response>;\r\n    delete: ItemRequestState<Response>;\r\n    list: ItemRequestState<StockListResponsePayload>;\r\n}\r\n\r\nexport const initialState: State = {\r\n    search: getResourceInitialState(null),\r\n    add: getResourceInitialState(null),\r\n    delete: getResourceInitialState(null),\r\n    list: getResourceInitialState(null)\r\n};\r\n\r\nexport const reducer = handleUndefinedState(\r\n    addReducers([\r\n        combineSimplyfiedReducers<State, AnyAction>({\r\n            // @ts-ignore\r\n            search: STOCK_SEARCH_RESOURCE.reducer,\r\n            // @ts-ignore\r\n            add: STOCK_ADD_RESOURCE.reducer,\r\n            // @ts-ignore\r\n            delete: STOCK_DELETE_RESOURCE.reducer,\r\n            // @ts-ignore\r\n            list: STOCK_LIST_RESOURCE.reducer\r\n        })\r\n    ]),\r\n    initialState\r\n);","import { AnyAction } from \"redux\"\r\nimport { Response } from \"../../global/model/response\";\r\nimport { ItemRequestState } from \"../../global/model/state\";\r\nimport { addReducers, combineSimplyfiedReducers, handleUndefinedState } from \"../../global/store/reducer\";\r\nimport { getResourceInitialState } from \"../../global/store/request\";\r\nimport { TriggerResponsePayload } from \"../models/trigger\";\r\nimport { ADD_TRIGGER_RESOURCE, DELETE_TRIGGER_ALL_RESOURCE, DELETE_TRIGGER_RESOURCE, GET_TRIGGER_RESOURCE, UPDATE_TRIGGER_RESOURCE } from \"./saga\";\r\n\r\n\r\nexport interface State {\r\n    list: ItemRequestState<TriggerResponsePayload[]>;\r\n    add: ItemRequestState<Response>;\r\n    update: ItemRequestState<Response>;\r\n    delete: ItemRequestState<Response>;\r\n    deleteAll: ItemRequestState<Response>\r\n}\r\n\r\nexport const initialState: State = {\r\n    list: getResourceInitialState(null),\r\n    add: getResourceInitialState(null),\r\n    update: getResourceInitialState(null),\r\n    delete: getResourceInitialState(null),\r\n    deleteAll: getResourceInitialState(null)\r\n\r\n};\r\n\r\nexport const reducer = handleUndefinedState(\r\n    addReducers([\r\n        combineSimplyfiedReducers<State, AnyAction>({\r\n            // @ts-ignore\r\n            list: GET_TRIGGER_RESOURCE.reducer,\r\n            // @ts-ignore\r\n            add: ADD_TRIGGER_RESOURCE.reducer,\r\n            // @ts-ignore\r\n            update: UPDATE_TRIGGER_RESOURCE.reducer,\r\n            // @ts-ignore\r\n            delete: DELETE_TRIGGER_RESOURCE.reducer,\r\n            // @ts-ignore\r\n            deleteAll: DELETE_TRIGGER_ALL_RESOURCE.reducer,\r\n        })\r\n    ]),\r\n    initialState\r\n);","import { AnyAction } from \"redux\"\r\nimport { Response } from \"../../global/model/response\";\r\nimport { ItemRequestState } from \"../../global/model/state\";\r\nimport { addReducers, combineSimplyfiedReducers, handleUndefinedState } from \"../../global/store/reducer\";\r\nimport { getResourceInitialState } from \"../../global/store/request\";\r\nimport { HoldingListResponsePayload } from \"../models/holding\";\r\nimport { HOLDING_ADD_RESOURCE, HOLDING_DELETE_RESOURCE, HOLDING_LIST_RESOURCE } from \"./saga\";\r\n\r\n\r\nexport interface State {\r\n    add: ItemRequestState<Response>;\r\n    delete: ItemRequestState<Response>;\r\n    list: ItemRequestState<HoldingListResponsePayload>;\r\n}\r\n\r\nexport const initialState: State = {\r\n    add: getResourceInitialState(null),\r\n    delete: getResourceInitialState(null),\r\n    list: getResourceInitialState(null)\r\n};\r\n\r\nexport const reducer = handleUndefinedState(\r\n    addReducers([\r\n        combineSimplyfiedReducers<State, AnyAction>({\r\n            // @ts-ignore\r\n            add: HOLDING_ADD_RESOURCE.reducer,\r\n            // @ts-ignore\r\n            delete: HOLDING_DELETE_RESOURCE.reducer,\r\n            // @ts-ignore\r\n            list: HOLDING_LIST_RESOURCE.reducer\r\n        })\r\n    ]),\r\n    initialState\r\n);","import { Action, combineReducers, Reducer } from \"redux\";\r\nimport { connectRouter, RouterState } from 'connected-react-router';\r\nimport * as User from \"../../user/store/reducer\";\r\nimport * as Stock from \"../../stocks/store/reducer\";\r\nimport * as Trigger from \"../../triggers/store/reducer\";\r\nimport * as Portfolio from \"../../portfolio/store/reducer\";\r\nimport { History } from \"history\";\r\nimport { ToastState } from \"../../ui/toast/model\";\r\nimport * as Toast from \"../../ui/toast/reducer\";\r\n\r\nexport interface State {\r\n    user: User.State;\r\n    router: RouterState;\r\n    stocks: Stock.State;\r\n    triggers: Trigger.State;\r\n    toast: ToastState;\r\n    portfolio: Portfolio.State\r\n}\r\n\r\nexport const initialState: State = {\r\n    user: User.initialState,\r\n    router: undefined as unknown as RouterState,\r\n    stocks: Stock.initialState,\r\n    toast: Toast.initialState,\r\n    triggers: Trigger.initialState,\r\n    portfolio: Portfolio.initialState\r\n};\r\n\r\nexport function createReducer(history: History): Reducer<State, Action> {\r\n    const combinedReducer = combineReducers({\r\n        user: User.reducer,\r\n        router: connectRouter(history),\r\n        stocks: Stock.reducer,\r\n        toast: Toast.reducer,\r\n        triggers: Trigger.reducer,\r\n        portfolio: Portfolio.reducer\r\n    });\r\n\r\n    return combinedReducer;\r\n}\r\n","import { SagaBase } from \"./saga-base\";\r\nimport { all } from \"redux-saga/effects\"\r\n/**\r\n * Redistributes actions to all the sagas\r\n */\r\nexport class MainSaga {\r\n\r\n    // eslint-disable-next-line\r\n    constructor(\r\n        /**\r\n         * All the sagas which are used at redux\r\n         */\r\n        protected sagas: SagaBase[]\r\n    ) { }\r\n\r\n    /**\r\n     * This should be passed as the main function of Saga middleware\r\n     */\r\n    *rootSaga(): IterableIterator<any> {\r\n        yield all(this.sagas.map(saga => saga.rootSaga()));\r\n    }\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\nimport reportWebVitals from './reportWebVitals';\nimport { ConnectedRouter } from \"connected-react-router\";\nimport createSagaMiddleware from \"redux-saga\";\nimport { createStore } from './root/store/store';\nimport { createBrowserHistory } from \"history\";\nimport { routerMiddleware } from \"connected-react-router\";\nimport { MainSaga } from './global/store/main-saga';\nimport { UserSaga } from './user/store/saga';\nimport { Provider } from \"react-redux\";\nimport { StocksSaga } from './stocks/store/saga';\nimport { SubscriptionSaga } from './Navbar/subscription/store/saga';\nimport { TriggersSaga } from './triggers/store/saga';\nimport { PortfolioSaga } from \"./portfolio/store/saga\";\n\nexport const history = createBrowserHistory();\nconst sagaMiddleware = createSagaMiddleware();\n\nconst store = createStore(history, [\n  sagaMiddleware,\n  routerMiddleware(history)\n]);\n\nconst saga = new MainSaga([\n  new UserSaga(),\n  new StocksSaga(),\n  new SubscriptionSaga(),\n  new TriggersSaga(),\n  new PortfolioSaga()\n]);\n\nsagaMiddleware.run(saga.rootSaga.bind(saga));\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <ConnectedRouter history={history}>\n        <App />\n      </ConnectedRouter>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorkerRegistration.register();\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import { applyMiddleware, compose, createStore as createStoreBase } from \"redux\";\r\nimport { createLogger } from 'redux-logger';\r\nimport * as Root from \"./reducer\";\r\nimport { History } from \"history\";\r\n\r\nexport function createStore(history: History, middlewares: any[]) {\r\n    let composeEnhancers = compose;\r\n\r\n    if (process.env.NODE_ENV === 'development') {\r\n        if ('__REDUX_DEVTOOLS_EXTENSION_COMPOSE__' in window) {\r\n            composeEnhancers = (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\r\n        }\r\n        middlewares.push(createLogger());\r\n    }\r\n\r\n    return createStoreBase<Root.State, any, any, any>(\r\n        Root.createReducer(history),\r\n        Root.initialState,\r\n        composeEnhancers(applyMiddleware(...middlewares))\r\n    );\r\n}\r\n"],"sourceRoot":""}